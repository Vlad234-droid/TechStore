{"ast":null,"code":"var _jsxFileName = \"/Users/vladikbaryshpolets/Desktop/TechStore/src/components/CatalogPage/CatalogFilter/CatalogFilter.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable prefer-destructuring */\n\n/* eslint-disable no-unused-vars */\n\n/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Form } from 'antd';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport close from \"../../../images/filter/close.svg\";\nimport { StyledForm, Wrapper, FilterTitle, CloseBtn, AlignBtn, ContainerImage, GlobalStyle } from './StylesCatalogfilter';\nimport { checkFormValues } from '../../../utils/checkFormValues';\nimport styl from \"../../../images/filter/styl.svg\";\nimport StyledButton from '../../common/Buttons/StyledButton';\nimport { FormMenu } from './FormMenu/FormMenu';\nimport makeConfigFromUrl from '../../../utils/makeConfigFromUrl';\nimport makeUrlFromConfig from '../../../utils/makeUrlFromConfig';\nimport { selectMinMaxPrice } from '../../../store/catalog/reducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst layout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 18\n  }\n};\n\nconst mapStateToProps = state => ({\n  minMaxPrice: selectMinMaxPrice(state)\n});\n\nconst CatalogFilter = connect(mapStateToProps)(_s(({\n  showFilter,\n  setShowFilter,\n  minMaxPrice\n}) => {\n  _s();\n\n  const {\n    search\n  } = useLocation();\n  const history = useHistory();\n  const config = search ? makeConfigFromUrl(search) : {};\n\n  const onFinish = values => {\n    const refValue = checkFormValues(values);\n\n    if (values.price[0] !== minMaxPrice[0] || values.price[1] !== minMaxPrice[1]) {\n      refValue.minPrice = values.price[0];\n      refValue.maxPrice = values.price[1];\n    }\n\n    delete refValue.price;\n    if (!Object.keys(refValue)) return;\n    const filterParts = ['brand', 'categories', 'minPrice', 'maxPrice'];\n    const refConfig = { ...config,\n      ...refValue\n    };\n    Object.keys(refConfig).forEach(key => {\n      if (filterParts.includes(key) && (refValue[key] === undefined || refValue[key] === null)) {\n        delete refConfig[key];\n      }\n    });\n    history.push(`/catalog?${makeUrlFromConfig(refConfig)}`);\n    setShowFilter(false);\n  };\n\n  const clearForm = () => {\n    const {\n      brand,\n      categories,\n      minPrice,\n      maxPrice,\n      ...refConfig\n    } = config;\n    history.push(`/catalog?${makeUrlFromConfig(refConfig)}`);\n  };\n\n  const fields = useMemo(() => [{\n    name: 'brand',\n    value: (config === null || config === void 0 ? void 0 : config.brand) || null\n  }, {\n    name: 'categories',\n    value: (config === null || config === void 0 ? void 0 : config.categories) || null\n  }, {\n    name: 'price',\n    value: [config.minPrice || minMaxPrice[0], config.maxPrice || minMaxPrice[1]]\n  }], [config.brand, config.categories, config.maxPrice, config.minPrice, minMaxPrice]);\n  return /*#__PURE__*/_jsxDEV(StyledForm, {\n    fields: fields,\n    ...layout,\n    onFinish: onFinish,\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {\n      showFilter: showFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n      showFilter: showFilter,\n      children: [/*#__PURE__*/_jsxDEV(FilterTitle, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Filter By\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CloseBtn, {\n          onClick: () => setShowFilter(false),\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: close,\n            alt: \"close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormMenu, {\n        filter: config\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AlignBtn, {\n        children: [/*#__PURE__*/_jsxDEV(StyledButton, {\n          size: \"sm\",\n          shape: \"round\",\n          htmlType: \"submit\",\n          style: {\n            margin: 10,\n            padding: 7\n          },\n          children: \"Apply Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledButton, {\n          size: \"sm\",\n          shape: \"round\",\n          color: \"borderGrey\",\n          onClick: clearForm,\n          style: {\n            margin: 10,\n            padding: 7\n          },\n          children: \"Clear Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ContainerImage, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: styl,\n          alt: \"styl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}, \"y3zVaZ7YcWa0kRL2PqtBJ5sFICM=\", false, function () {\n  return [useLocation, useHistory];\n}));\nexport default CatalogFilter;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/TechStore/src/components/CatalogPage/CatalogFilter/CatalogFilter.jsx"],"names":["React","useCallback","useEffect","useMemo","useState","Form","useHistory","useLocation","connect","StyledForm","Wrapper","FilterTitle","CloseBtn","AlignBtn","ContainerImage","GlobalStyle","checkFormValues","StyledButton","FormMenu","makeConfigFromUrl","makeUrlFromConfig","selectMinMaxPrice","layout","labelCol","span","wrapperCol","mapStateToProps","state","minMaxPrice","CatalogFilter","showFilter","setShowFilter","search","history","config","onFinish","values","refValue","price","minPrice","maxPrice","Object","keys","filterParts","refConfig","forEach","key","includes","undefined","push","clearForm","brand","categories","fields","name","value","close","margin","padding","styl"],"mappings":"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","sourcesContent":["/* eslint-disable prefer-destructuring */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React, {\n  useCallback, useEffect, useMemo, useState\n} from 'react'\nimport {\n  Form\n} from 'antd';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport close from '../../../images/filter/close.svg';\nimport {\n  StyledForm, Wrapper, FilterTitle,\n  CloseBtn, AlignBtn, ContainerImage, GlobalStyle\n} from './StylesCatalogfilter';\nimport {checkFormValues} from '../../../utils/checkFormValues';\nimport styl from '../../../images/filter/styl.svg';\nimport StyledButton from '../../common/Buttons/StyledButton'\nimport {FormMenu} from './FormMenu/FormMenu';\nimport makeConfigFromUrl from '../../../utils/makeConfigFromUrl';\nimport makeUrlFromConfig from '../../../utils/makeUrlFromConfig';\nimport { selectMinMaxPrice } from '../../../store/catalog/reducer';\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nconst mapStateToProps = (state) => ({\n  minMaxPrice: selectMinMaxPrice(state)\n})\n\nconst CatalogFilter = connect(mapStateToProps)(({\n  showFilter,\n  setShowFilter,\n  minMaxPrice\n}) => {\n  const {search} = useLocation()\n  const history = useHistory()\n  const config = search ? makeConfigFromUrl(search) : {}\n\n  const onFinish = (values) => {\n    const refValue = checkFormValues(values)\n    if (values.price[0] !== minMaxPrice[0] || values.price[1] !== minMaxPrice[1]) {\n      refValue.minPrice = values.price[0]\n      refValue.maxPrice = values.price[1]\n    }\n    delete refValue.price\n    if (!Object.keys(refValue)) return\n    const filterParts = ['brand', 'categories', 'minPrice', 'maxPrice']\n    const refConfig = {\n      ...config, ...refValue\n    }\n    Object.keys(refConfig).forEach((key) => {\n      if (filterParts.includes(key) && (refValue[key] === undefined || refValue[key] === null)) {\n        delete refConfig[key]\n      }\n    })\n    history.push(`/catalog?${makeUrlFromConfig(refConfig)}`)\n    setShowFilter(false)\n  };\n\n  const clearForm = () => {\n    const {\n      brand, categories, minPrice, maxPrice, ...refConfig\n    } = config\n    history.push(`/catalog?${makeUrlFromConfig(refConfig)}`)\n  }\n\n  const fields = useMemo(() => ([\n    {\n      name: 'brand',\n      value: config?.brand || null\n    },\n    {\n      name: 'categories',\n      value: config?.categories || null\n    },\n    {\n      name: 'price',\n      value: [config.minPrice || minMaxPrice[0], config.maxPrice || minMaxPrice[1]]\n    }\n  ]), [config.brand, config.categories, config.maxPrice, config.minPrice, minMaxPrice])\n\n  return (\n    <StyledForm fields={fields} {...layout} onFinish={onFinish}>\n      <GlobalStyle showFilter={showFilter} />\n      <Wrapper showFilter={showFilter}>\n        <FilterTitle>\n          <h3>Filter By</h3>\n          <CloseBtn onClick={() => setShowFilter(false)}>\n            <img src={close} alt=\"close\" />\n          </CloseBtn>\n        </FilterTitle>\n        <FormMenu filter={config} />\n        <AlignBtn>\n          <StyledButton\n            size=\"sm\"\n            shape=\"round\"\n            htmlType=\"submit\"\n            style={{margin: 10, padding: 7}}\n          >\n            Apply Filter\n          </StyledButton>\n          <StyledButton\n            size=\"sm\"\n            shape=\"round\"\n            color=\"borderGrey\"\n            onClick={clearForm}\n            style={{margin: 10, padding: 7}}\n          >\n            Clear Filter\n          </StyledButton>\n        </AlignBtn>\n        <ContainerImage>\n          <img src={styl} alt=\"styl\" />\n        </ContainerImage>\n      </Wrapper>\n    </StyledForm>\n  );\n})\n\nexport default CatalogFilter"]},"metadata":{},"sourceType":"module"}