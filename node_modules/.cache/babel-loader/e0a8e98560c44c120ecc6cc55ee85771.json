{"ast":null,"code":"var _jsxFileName = \"/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/components/CatalogPage/CatalogFilter/CatalogFilter.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form } from 'antd';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport close from \"../../../images/filter/close.svg\";\nimport { StyledForm, Wrapper, FilterTitle, CloseBtn, AlignBtn, ContainerImage, GlobalStyle } from './StylesCatalogfilter';\nimport { checkFormValues } from '../../../utils/checkFormValues';\nimport styl from \"../../../images/filter/styl.svg\";\nimport StyledButton from '../../common/Buttons/StyledButton';\nimport { FormMenu } from './FormMenu/FormMenu';\nimport makeConfigFromUrl from '../../../utils/makeConfigFromUrl';\nimport makeUrlFromConfig from '../../../utils/makeUrlFromConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst layout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 18\n  }\n};\n\nconst CatalogFilter = ({\n  showFilter,\n  setShowFilter\n}) => {\n  _s();\n\n  const {\n    search\n  } = useLocation();\n  const history = useHistory();\n  const config = search ? makeConfigFromUrl(search) : {};\n  const [form] = Form.useForm();\n\n  const onFinish = values => {\n    if (!Object.keys(values).length) return;\n    const filterParts = ['brand', 'categories', 'minPrice', 'maxPrice'];\n    const refValue = checkFormValues(values);\n    const refConfig = { ...config,\n      ...refValue\n    };\n    Object.keys(refConfig).forEach(key => {\n      if (filterParts.includes(key) && (refValue[key] === undefined || refValue[key] === null)) {\n        delete refConfig[key];\n      }\n    });\n    history.push(`/catalog?${makeUrlFromConfig(refConfig)}`);\n    setShowFilter(false);\n  };\n\n  const clearForm = () => {\n    form.resetFields();\n    const {\n      brand,\n      categories,\n      minPrice,\n      maxPrice,\n      ...refConfig\n    } = config;\n    history.push(`/catalog?${makeUrlFromConfig(refConfig)}`);\n  };\n\n  const fields = useMemo(() => [{\n    name: 'brand',\n    value: (config === null || config === void 0 ? void 0 : config.brand) || null\n  }, {\n    name: 'categories',\n    value: (config === null || config === void 0 ? void 0 : config.categories) || null\n  }, {\n    name: 'minPrice',\n    value: +(config === null || config === void 0 ? void 0 : config.minPrice) || null\n  }, {\n    name: 'maxPrice',\n    value: (config.maxPrice === '10000000' ? null : +(config === null || config === void 0 ? void 0 : config.maxPrice)) || null\n  }], [config.brand, config.categories, config.maxPrice, config.minPrice]);\n  return /*#__PURE__*/_jsxDEV(StyledForm, {\n    fields: fields,\n    form: form,\n    ...layout,\n    onFinish: onFinish,\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {\n      showFilter: showFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n      showFilter: showFilter,\n      children: [/*#__PURE__*/_jsxDEV(FilterTitle, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Filter By\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CloseBtn, {\n          onClick: () => setShowFilter(false),\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: close,\n            alt: \"close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormMenu, {\n        filter: config\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AlignBtn, {\n        children: [/*#__PURE__*/_jsxDEV(StyledButton, {\n          size: \"sm\",\n          shape: \"round\",\n          htmlType: \"submit\",\n          style: {\n            margin: 10,\n            padding: 7\n          },\n          children: \"Apply Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledButton, {\n          size: \"sm\",\n          shape: \"round\",\n          color: \"borderGrey\",\n          onClick: clearForm,\n          style: {\n            margin: 10,\n            padding: 7\n          },\n          children: \"Clear Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ContainerImage, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: styl,\n          alt: \"styl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CatalogFilter, \"cKn8ZyBzQJ7pHSMR4AsN65ZNFH0=\", false, function () {\n  return [useLocation, useHistory, Form.useForm];\n});\n\n_c = CatalogFilter;\nCatalogFilter.propTypes = {\n  showFilter: PropTypes.bool.isRequired,\n  setShowFilter: PropTypes.func.isRequired\n};\nexport default CatalogFilter;\n\nvar _c;\n\n$RefreshReg$(_c, \"CatalogFilter\");","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/components/CatalogPage/CatalogFilter/CatalogFilter.jsx"],"names":["React","useMemo","PropTypes","Form","useHistory","useLocation","StyledForm","Wrapper","FilterTitle","CloseBtn","AlignBtn","ContainerImage","GlobalStyle","checkFormValues","StyledButton","FormMenu","makeConfigFromUrl","makeUrlFromConfig","layout","labelCol","span","wrapperCol","CatalogFilter","showFilter","setShowFilter","search","history","config","form","useForm","onFinish","values","Object","keys","length","filterParts","refValue","refConfig","forEach","key","includes","undefined","push","clearForm","resetFields","brand","categories","minPrice","maxPrice","fields","name","value","close","margin","padding","styl","propTypes","bool","isRequired","func"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,OAAhB,QAA8B,OAA9B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SACEC,IADF,QAEO,MAFP;AAGA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;;AAEA,SACEC,UADF,EACcC,OADd,EACuBC,WADvB,EAEEC,QAFF,EAEYC,QAFZ,EAEsBC,cAFtB,EAEsCC,WAFtC,QAGO,uBAHP;AAIA,SAAQC,eAAR,QAA8B,gCAA9B;;AAEA,OAAOC,YAAP,MAAyB,mCAAzB;AACA,SAAQC,QAAR,QAAuB,qBAAvB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GADG;AAEbC,EAAAA,UAAU,EAAE;AAAED,IAAAA,IAAI,EAAE;AAAR;AAFC,CAAf;;AAKA,MAAME,aAAa,GAAG,CAAC;AACrBC,EAAAA,UADqB;AACTC,EAAAA;AADS,CAAD,KAEhB;AAAA;;AACJ,QAAM;AAACC,IAAAA;AAAD,MAAWpB,WAAW,EAA5B;AACA,QAAMqB,OAAO,GAAGtB,UAAU,EAA1B;AACA,QAAMuB,MAAM,GAAGF,MAAM,GAAGT,iBAAiB,CAACS,MAAD,CAApB,GAA+B,EAApD;AACA,QAAM,CAACG,IAAD,IAASzB,IAAI,CAAC0B,OAAL,EAAf;;AAEA,QAAMC,QAAQ,GAAIC,MAAD,IAAY;AAC3B,QAAI,CAACC,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBG,MAAzB,EAAiC;AACjC,UAAMC,WAAW,GAAG,CAAC,OAAD,EAAU,YAAV,EAAwB,UAAxB,EAAoC,UAApC,CAApB;AACA,UAAMC,QAAQ,GAAGvB,eAAe,CAACkB,MAAD,CAAhC;AACA,UAAMM,SAAS,GAAG,EAAC,GAAGV,MAAJ;AAAY,SAAGS;AAAf,KAAlB;AACAJ,IAAAA,MAAM,CAACC,IAAP,CAAYI,SAAZ,EAAuBC,OAAvB,CAAgCC,GAAD,IAAS;AACtC,UAAIJ,WAAW,CAACK,QAAZ,CAAqBD,GAArB,MAA8BH,QAAQ,CAACG,GAAD,CAAR,KAAkBE,SAAlB,IAA+BL,QAAQ,CAACG,GAAD,CAAR,KAAkB,IAA/E,CAAJ,EAA0F;AACxF,eAAOF,SAAS,CAACE,GAAD,CAAhB;AACD;AACF,KAJD;AAKAb,IAAAA,OAAO,CAACgB,IAAR,CAAc,YAAWzB,iBAAiB,CAACoB,SAAD,CAAY,EAAtD;AACAb,IAAAA,aAAa,CAAC,KAAD,CAAb;AACD,GAZD;;AAcA,QAAMmB,SAAS,GAAG,MAAM;AACtBf,IAAAA,IAAI,CAACgB,WAAL;AACA,UAAM;AACJC,MAAAA,KADI;AACGC,MAAAA,UADH;AACeC,MAAAA,QADf;AACyBC,MAAAA,QADzB;AACmC,SAAGX;AADtC,QAEFV,MAFJ;AAGAD,IAAAA,OAAO,CAACgB,IAAR,CAAc,YAAWzB,iBAAiB,CAACoB,SAAD,CAAY,EAAtD;AACD,GAND;;AAQA,QAAMY,MAAM,GAAGhD,OAAO,CAAC,MAAO,CAC5B;AACEiD,IAAAA,IAAI,EAAE,OADR;AAEEC,IAAAA,KAAK,EAAE,CAAAxB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEkB,KAAR,KAAiB;AAF1B,GAD4B,EAK5B;AACEK,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,KAAK,EAAE,CAAAxB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEmB,UAAR,KAAsB;AAF/B,GAL4B,EAS5B;AACEI,IAAAA,IAAI,EAAE,UADR;AAEEC,IAAAA,KAAK,EAAE,EAACxB,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEoB,QAAT,KAAqB;AAF9B,GAT4B,EAa5B;AACEG,IAAAA,IAAI,EAAE,UADR;AAEEC,IAAAA,KAAK,EAAE,CAACxB,MAAM,CAACqB,QAAP,KAAoB,UAApB,GAAiC,IAAjC,GAAwC,EAACrB,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEqB,QAAT,CAAzC,KAA+D;AAFxE,GAb4B,CAAR,EAiBlB,CAACrB,MAAM,CAACkB,KAAR,EAAelB,MAAM,CAACmB,UAAtB,EAAkCnB,MAAM,CAACqB,QAAzC,EAAmDrB,MAAM,CAACoB,QAA1D,CAjBkB,CAAtB;AAmBA,sBACE,QAAC,UAAD;AAAY,IAAA,MAAM,EAAEE,MAApB;AAA4B,IAAA,IAAI,EAAErB,IAAlC;AAAA,OAA4CV,MAA5C;AAAoD,IAAA,QAAQ,EAAEY,QAA9D;AAAA,4BACE,QAAC,WAAD;AAAa,MAAA,UAAU,EAAEP;AAAzB;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,OAAD;AAAS,MAAA,UAAU,EAAEA,UAArB;AAAA,8BACE,QAAC,WAAD;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,QAAD;AAAU,UAAA,OAAO,EAAE,MAAMC,aAAa,CAAC,KAAD,CAAtC;AAAA,iCACE;AAAK,YAAA,GAAG,EAAE4B,KAAV;AAAiB,YAAA,GAAG,EAAC;AAArB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAOE,QAAC,QAAD;AAAU,QAAA,MAAM,EAAEzB;AAAlB;AAAA;AAAA;AAAA;AAAA,cAPF,eAQE,QAAC,QAAD;AAAA,gCACE,QAAC,YAAD;AACE,UAAA,IAAI,EAAC,IADP;AAEE,UAAA,KAAK,EAAC,OAFR;AAGE,UAAA,QAAQ,EAAC,QAHX;AAIE,UAAA,KAAK,EAAE;AAAC0B,YAAAA,MAAM,EAAE,EAAT;AAAaC,YAAAA,OAAO,EAAE;AAAtB,WAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eASE,QAAC,YAAD;AACE,UAAA,IAAI,EAAC,IADP;AAEE,UAAA,KAAK,EAAC,OAFR;AAGE,UAAA,KAAK,EAAC,YAHR;AAIE,UAAA,OAAO,EAAEX,SAJX;AAKE,UAAA,KAAK,EAAE;AAACU,YAAAA,MAAM,EAAE,EAAT;AAAaC,YAAAA,OAAO,EAAE;AAAtB,WALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cARF,eA2BE,QAAC,cAAD;AAAA,+BACE;AAAK,UAAA,GAAG,EAAEC,IAAV;AAAgB,UAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA3BF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoCD,CArFD;;GAAMjC,a;UAGajB,W,EACDD,U,EAEDD,IAAI,CAAC0B,O;;;KANhBP,a;AAuFNA,aAAa,CAACkC,SAAd,GAA0B;AACxBjC,EAAAA,UAAU,EAAErB,SAAS,CAACuD,IAAV,CAAeC,UADH;AAExBlC,EAAAA,aAAa,EAAEtB,SAAS,CAACyD,IAAV,CAAeD;AAFN,CAA1B;AAKA,eAAepC,aAAf","sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useMemo} from 'react'\nimport PropTypes from 'prop-types';\nimport {\n  Form\n} from 'antd';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport close from '../../../images/filter/close.svg';\nimport {\n  StyledForm, Wrapper, FilterTitle,\n  CloseBtn, AlignBtn, ContainerImage, GlobalStyle\n} from './StylesCatalogfilter';\nimport {checkFormValues} from '../../../utils/checkFormValues';\nimport styl from '../../../images/filter/styl.svg';\nimport StyledButton from '../../common/Buttons/StyledButton'\nimport {FormMenu} from './FormMenu/FormMenu';\nimport makeConfigFromUrl from '../../../utils/makeConfigFromUrl';\nimport makeUrlFromConfig from '../../../utils/makeUrlFromConfig';\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nconst CatalogFilter = ({\n  showFilter, setShowFilter\n}) => {\n  const {search} = useLocation()\n  const history = useHistory()\n  const config = search ? makeConfigFromUrl(search) : {}\n  const [form] = Form.useForm();\n\n  const onFinish = (values) => {\n    if (!Object.keys(values).length) return\n    const filterParts = ['brand', 'categories', 'minPrice', 'maxPrice']\n    const refValue = checkFormValues(values)\n    const refConfig = {...config, ...refValue}\n    Object.keys(refConfig).forEach((key) => {\n      if (filterParts.includes(key) && (refValue[key] === undefined || refValue[key] === null)) {\n        delete refConfig[key]\n      }\n    })\n    history.push(`/catalog?${makeUrlFromConfig(refConfig)}`)\n    setShowFilter(false)\n  };\n\n  const clearForm = () => {\n    form.resetFields()\n    const {\n      brand, categories, minPrice, maxPrice, ...refConfig\n    } = config\n    history.push(`/catalog?${makeUrlFromConfig(refConfig)}`)\n  }\n\n  const fields = useMemo(() => ([\n    {\n      name: 'brand',\n      value: config?.brand || null\n    },\n    {\n      name: 'categories',\n      value: config?.categories || null\n    },\n    {\n      name: 'minPrice',\n      value: +config?.minPrice || null\n    },\n    {\n      name: 'maxPrice',\n      value: (config.maxPrice === '10000000' ? null : +config?.maxPrice) || null\n    }\n  ]), [config.brand, config.categories, config.maxPrice, config.minPrice])\n\n  return (\n    <StyledForm fields={fields} form={form} {...layout} onFinish={onFinish}>\n      <GlobalStyle showFilter={showFilter} />\n      <Wrapper showFilter={showFilter}>\n        <FilterTitle>\n          <h3>Filter By</h3>\n          <CloseBtn onClick={() => setShowFilter(false)}>\n            <img src={close} alt=\"close\" />\n          </CloseBtn>\n        </FilterTitle>\n        <FormMenu filter={config} />\n        <AlignBtn>\n          <StyledButton\n            size=\"sm\"\n            shape=\"round\"\n            htmlType=\"submit\"\n            style={{margin: 10, padding: 7}}\n          >\n            Apply Filter\n          </StyledButton>\n          <StyledButton\n            size=\"sm\"\n            shape=\"round\"\n            color=\"borderGrey\"\n            onClick={clearForm}\n            style={{margin: 10, padding: 7}}\n          >\n            Clear Filter\n          </StyledButton>\n        </AlignBtn>\n        <ContainerImage>\n          <img src={styl} alt=\"styl\" />\n        </ContainerImage>\n      </Wrapper>\n    </StyledForm>\n  );\n}\n\nCatalogFilter.propTypes = {\n  showFilter: PropTypes.bool.isRequired,\n  setShowFilter: PropTypes.func.isRequired,\n}\n\nexport default CatalogFilter"]},"metadata":{},"sourceType":"module"}