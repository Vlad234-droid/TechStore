{"ast":null,"code":"import { getCustomer, updateCustomer } from '../../../../store/customer/middleware';\nexport const checkIsCustomerRatedProduct = async itemNo => {\n  const customer = await getCustomer();\n  if (!customer || customer.status !== 200) return null;\n  const {\n    ratedProducts\n  } = customer.data;\n  const checkIsRatedBefore = Boolean(ratedProducts.find(productNo => productNo === itemNo));\n\n  if (checkIsRatedBefore) {\n    return true;\n  }\n\n  updateCustomer({\n    ratedProducts: [...ratedProducts, itemNo]\n  });\n  return false;\n};\nexport default checkIsCustomerRatedProduct;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/TechStore/src/components/ProductPage/ProductRate/utils/checkIsCustomerRateProduct.js"],"names":["getCustomer","updateCustomer","checkIsCustomerRatedProduct","itemNo","customer","status","ratedProducts","data","checkIsRatedBefore","Boolean","find","productNo"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,cAAtB,QAA4C,uCAA5C;AAEA,OAAO,MAAMC,2BAA2B,GAAG,MAAOC,MAAP,IAAkB;AAC3D,QAAMC,QAAQ,GAAG,MAAMJ,WAAW,EAAlC;AACA,MAAI,CAACI,QAAD,IAAaA,QAAQ,CAACC,MAAT,KAAoB,GAArC,EAA0C,OAAO,IAAP;AAC1C,QAAM;AAAEC,IAAAA;AAAF,MAAoBF,QAAQ,CAACG,IAAnC;AAEA,QAAMC,kBAAkB,GAAGC,OAAO,CAACH,aAAa,CAACI,IAAd,CAAoBC,SAAD,IAAeA,SAAS,KAAKR,MAAhD,CAAD,CAAlC;;AACA,MAAIK,kBAAJ,EAAwB;AACtB,WAAO,IAAP;AACD;;AACDP,EAAAA,cAAc,CAAC;AAACK,IAAAA,aAAa,EAAE,CAAC,GAAGA,aAAJ,EAAmBH,MAAnB;AAAhB,GAAD,CAAd;AACA,SAAO,KAAP;AACD,CAXM;AAYP,eAAeD,2BAAf","sourcesContent":["import { getCustomer, updateCustomer } from '../../../../store/customer/middleware'\n\nexport const checkIsCustomerRatedProduct = async (itemNo) => {\n  const customer = await getCustomer()\n  if (!customer || customer.status !== 200) return null\n  const { ratedProducts } = customer.data\n\n  const checkIsRatedBefore = Boolean(ratedProducts.find((productNo) => productNo === itemNo))\n  if (checkIsRatedBefore) {\n    return true\n  }\n  updateCustomer({ratedProducts: [...ratedProducts, itemNo]})\n  return false\n}\nexport default checkIsCustomerRatedProduct"]},"metadata":{},"sourceType":"module"}