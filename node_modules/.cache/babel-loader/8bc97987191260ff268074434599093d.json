{"ast":null,"code":"var _jsxFileName = \"/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/components/LogIn/AuthForm/AuthForm.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/jsx-props-no-spreading */\nimport { React, useState } from 'react';\nimport styled from 'styled-components';\nimport { Button, Form, Input, message } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport { connect } from 'react-redux';\nimport { authLogIn } from '../../../store/auth/middleware';\nimport { compareLSItemsAndDBItems } from '../../../store/wishlist/middleware';\nimport { addLSToServer, getCart } from '../../../store/cart/middleware';\nimport { validPassword } from '../../../utils/constants';\nimport { getCustomer, getOrders } from '../../../store/customer/middleware';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthForm = connect(null, {\n  authLogIn,\n  compareLSItemsAndDBItems,\n  addLSToServer,\n  getCart\n})(_s(({\n  authLogIn,\n  compareLSItemsAndDBItems,\n  addLSToServer,\n  getCart,\n  finishCallback\n}) => {\n  _s();\n\n  const formLayout = 'vertical';\n  const [error, setError] = useState({});\n  const history = useHistory();\n\n  const onFinish = async values => {\n    const {\n      status,\n      data\n    } = await authLogIn(values);\n\n    if (status === 200) {\n      addLSToServer();\n      getCart();\n      compareLSItemsAndDBItems(); // eslint-disable-next-line no-unused-expressions\n\n      typeof finishCallback === 'function' ? finishCallback() : history.push('/');\n    }\n\n    if (status === 400) {\n      message.error(data.password);\n      setError(data);\n    }\n\n    if (status === 404) {\n      message.error(data.loginOrEmail);\n      setError(data);\n    }\n  };\n\n  const onChange = () => {\n    setError({});\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    name: \"authorization\",\n    layout: formLayout,\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    onChange: onChange,\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Login or Email\",\n      name: \"loginOrEmail\",\n      ...(error.loginOrEmail && {\n        help: error.loginOrEmail,\n        validateStatus: 'error'\n      }),\n      rules: [{\n        required: true,\n        message: 'Please input your login or email!'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Your Login or Email\",\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Password\",\n      name: \"password\",\n      ...(error.password && {\n        help: error.password,\n        validateStatus: 'error'\n      }),\n      rules: [{\n        required: true,\n        message: 'Please input your password!'\n      }, {\n        pattern: validPassword,\n        message: 'Allowed characters is a-z, 0-9'\n      }, {\n        min: 8,\n        max: 30,\n        message: 'Password must be between 8 and 30 characters'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input.Password, {\n        placeholder: \"Your password\",\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: /*#__PURE__*/_jsxDEV(ButtonStyled, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        shape: \"round\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}, \"v/h+eR03/SdMKkCzNY2OpbNdKCQ=\", false, function () {\n  return [useHistory];\n}));\nconst ButtonStyled = styled(Button)`\n  width: 151px;\n  height: 50px;\n  background-color: rgba(1,86,255,1);\n`;\n_c = ButtonStyled;\nexport default AuthForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ButtonStyled\");","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/components/LogIn/AuthForm/AuthForm.jsx"],"names":["React","useState","styled","Button","Form","Input","message","useHistory","connect","authLogIn","compareLSItemsAndDBItems","addLSToServer","getCart","validPassword","getCustomer","getOrders","AuthForm","finishCallback","formLayout","error","setError","history","onFinish","values","status","data","push","password","loginOrEmail","onChange","remember","help","validateStatus","required","pattern","min","max","ButtonStyled"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\nimport { React, useState} from 'react';\nimport styled from 'styled-components'\nimport {\n  Button,\n  Form, Input, message\n} from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport { connect } from 'react-redux';\nimport {authLogIn} from '../../../store/auth/middleware';\nimport { compareLSItemsAndDBItems } from '../../../store/wishlist/middleware'\nimport {addLSToServer, getCart} from '../../../store/cart/middleware'\nimport { validPassword } from '../../../utils/constants'\nimport { getCustomer, getOrders } from '../../../store/customer/middleware'\n\nconst AuthForm = connect(null, {\n  authLogIn,\n  compareLSItemsAndDBItems,\n  addLSToServer,\n  getCart\n})((\n  {\n    authLogIn,\n    compareLSItemsAndDBItems,\n    addLSToServer,\n    getCart,\n    finishCallback\n  }\n) => {\n  const formLayout = 'vertical'\n  const [error, setError] = useState({})\n  const history = useHistory()\n\n  const onFinish = async (values) => {\n    const {status, data} = await authLogIn(values)\n    \n    if (status === 200) {\n      addLSToServer()\n      getCart()\n      compareLSItemsAndDBItems()\n      // eslint-disable-next-line no-unused-expressions\n      typeof finishCallback === 'function' ? finishCallback() : history.push('/')\n    }\n\n    if (status === 400) {\n      message.error(data.password)\n      setError(data)\n    }\n\n    if (status === 404) {\n      message.error(data.loginOrEmail)\n      setError(data)\n    }\n  };\n\n  const onChange = () => {\n    setError({})\n  }\n  \n  return (\n    <Form\n      name=\"authorization\"\n      layout={formLayout}\n      initialValues={{\n        remember: true,\n      }}\n      onFinish={onFinish}\n      onChange={onChange}\n    >\n      <Form.Item\n        label=\"Login or Email\"\n        name=\"loginOrEmail\"\n        {...error.loginOrEmail && {\n          help: error.loginOrEmail,\n          validateStatus: 'error',\n        }}\n        rules={[\n          {\n            required: true,\n            message: 'Please input your login or email!',\n          },\n        ]}\n      >\n        <Input placeholder=\"Your Login or Email\" size=\"large\" />\n      </Form.Item>\n  \n      <Form.Item\n        label=\"Password\"\n        name=\"password\"\n        {...error.password && {\n          help: error.password,\n          validateStatus: 'error',\n        }}\n        rules={[\n          {\n            required: true,\n            message: 'Please input your password!',\n          },\n          {\n            pattern: validPassword,\n            message: 'Allowed characters is a-z, 0-9'\n          },\n          {\n            min: 8,\n            max: 30,\n            message: 'Password must be between 8 and 30 characters'\n          }\n        ]}\n      >\n        <Input.Password placeholder=\"Your password\" size=\"large\" />\n      </Form.Item>\n        \n      <Form.Item>\n        <ButtonStyled type=\"primary\" htmlType=\"submit\" shape=\"round\">\n          Sign In\n        </ButtonStyled>\n      </Form.Item>\n    </Form>\n  );\n});\n\nconst ButtonStyled = styled(Button)`\n  width: 151px;\n  height: 50px;\n  background-color: rgba(1,86,255,1);\n`\n\nexport default AuthForm"]},"metadata":{},"sourceType":"module"}