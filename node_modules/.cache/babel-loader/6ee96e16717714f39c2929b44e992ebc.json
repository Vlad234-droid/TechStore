{"ast":null,"code":"var _jsxFileName = \"/Users/vladikbaryshpolets/Desktop/TechStore/src/components/Header/SearchProducts/SearchProducts.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Input, SearchInputBlock, SearchOutlinedStyled, FormContainer } from '../HeaderStyled';\nimport { getSearchProducts } from '../../../store/catalog/middleware';\nimport { CloseList, SearchList } from './StyledSearchProducts';\nimport { Product } from './Product/Product';\nimport { clearSearchProducts } from '../../../store/catalog/actionCreator';\nimport { selectSearchProducts } from '../../../store/catalog/reducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => ({\n  searchProducts: selectSearchProducts(state)\n});\n\nconst SearchProducts = connect(mapStateToProps, {\n  clearSearchProducts,\n  getSearchProducts\n})(_s(({\n  searchProducts,\n  hideInput,\n  setHideInput,\n  getSearchProducts,\n  clearSearchProducts\n}) => {\n  _s();\n\n  const [search, setSearch] = useState('');\n  const checkProductsLength = Boolean(searchProducts.length);\n\n  const onChange = e => {\n    const {\n      value\n    } = e.target;\n    setSearch(value);\n\n    if (value.length > 2) {\n      getSearchProducts({\n        query: value\n      });\n    } else clearSearchProducts();\n  };\n\n  const reset = useCallback(() => {\n    clearSearchProducts();\n    setSearch('');\n    setHideInput();\n  }, [clearSearchProducts, setHideInput]);\n  const windowListener = useCallback(() => {\n    if (checkProductsLength) {\n      reset();\n    }\n  }, [checkProductsLength, reset]);\n  const listener = useRef(windowListener);\n  useEffect(() => {\n    listener.current = windowListener;\n  });\n  useEffect(() => {\n    const refListener = e => listener.current(e);\n\n    window.addEventListener('click', refListener);\n    return () => {\n      window.removeEventListener('click', refListener);\n    };\n  }, [reset]);\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    id: \"search-form\",\n    onKeyUp: e => e.code === 'Escape' && reset(),\n    hideInput: hideInput,\n    onSubmit: e => e.preventDefault(),\n    children: [/*#__PURE__*/_jsxDEV(SearchInputBlock, {\n      children: [/*#__PURE__*/_jsxDEV(SearchOutlinedStyled, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        value: search,\n        onChange: onChange,\n        name: \"search\",\n        type: \"text\",\n        placeholder: \"Search...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), checkProductsLength && /*#__PURE__*/_jsxDEV(CloseList, {\n        onClick: reset,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          \"aria-hidden\": \"true\",\n          focusable: \"false\",\n          \"data-prefix\": \"far\",\n          \"data-icon\": \"times-circle\",\n          className: \"svg-inline--fa fa-times-circle fa-w-16\",\n          role: \"img\",\n          viewBox: \"0 0 512 512\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fill: \"gray\",\n            d: \"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 215\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchList, {\n      children: [searchProducts.map((product, index) => index < 5 && /*#__PURE__*/_jsxDEV(Product, {\n        reset: reset,\n        product: product\n      }, product.itemNo, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)), checkProductsLength && /*#__PURE__*/_jsxDEV(Link, {\n        style: {\n          display: 'inline-block',\n          padding: '10px 0',\n          width: '100%'\n        },\n        onClick: reset,\n        to: \"/catalog\",\n        children: \"All Products...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}, \"Wro+d5zpEv5e3xa9Fpsm5f2YuEw=\"));\nSearchProducts.propTypes = {\n  hideInput: PropTypes.bool.isRequired,\n  setHideInput: PropTypes.func.isRequired\n};\nexport default _c = /*#__PURE__*/React.memo(SearchProducts);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/TechStore/src/components/Header/SearchProducts/SearchProducts.jsx"],"names":["React","useCallback","useEffect","useRef","useState","PropTypes","connect","Link","Input","SearchInputBlock","SearchOutlinedStyled","FormContainer","getSearchProducts","CloseList","SearchList","Product","clearSearchProducts","selectSearchProducts","mapStateToProps","state","searchProducts","SearchProducts","hideInput","setHideInput","search","setSearch","checkProductsLength","Boolean","length","onChange","e","value","target","query","reset","windowListener","listener","current","refListener","window","addEventListener","removeEventListener","code","preventDefault","map","product","index","itemNo","display","padding","width","propTypes","bool","isRequired","func","memo"],"mappings":"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","sourcesContent":["import React, {\n  useCallback, useEffect, useRef, useState\n} from 'react'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {\n  Input, SearchInputBlock, SearchOutlinedStyled, FormContainer\n} from '../HeaderStyled'\nimport { getSearchProducts } from '../../../store/catalog/middleware';\nimport { CloseList, SearchList } from './StyledSearchProducts';\nimport { Product} from './Product/Product';\nimport { clearSearchProducts} from '../../../store/catalog/actionCreator';\nimport { selectSearchProducts } from '../../../store/catalog/reducer';\n\nconst mapStateToProps = (state) => ({\n  searchProducts: selectSearchProducts(state)\n})\n\nconst SearchProducts = connect(mapStateToProps, {clearSearchProducts, getSearchProducts})(({\n  searchProducts,\n  hideInput,\n  setHideInput,\n  getSearchProducts,\n  clearSearchProducts\n}) => {\n  const [search, setSearch] = useState('')\n  const checkProductsLength = Boolean(searchProducts.length)\n\n  const onChange = (e) => {\n    const {value} = e.target\n    setSearch(value)\n    if (value.length > 2) {\n      getSearchProducts({query: value})\n    } else clearSearchProducts()\n  }\n\n  const reset = useCallback(() => {\n    clearSearchProducts()\n    setSearch('')\n    setHideInput()\n  }, [clearSearchProducts, setHideInput])\n\n  const windowListener = useCallback(() => {\n    if (checkProductsLength) {\n      reset()\n    }\n  }, [checkProductsLength, reset])\n\n  const listener = useRef(windowListener)\n\n  useEffect(() => { listener.current = windowListener })\n\n  useEffect(() => {\n    const refListener = (e) => listener.current(e)\n    window.addEventListener('click', refListener)\n    return () => { window.removeEventListener('click', refListener) }\n  }, [reset])\n\n  return (\n    <FormContainer\n      id=\"search-form\"\n      onKeyUp={(e) => ((e.code === 'Escape') && reset())}\n      hideInput={hideInput}\n      onSubmit={(e) => e.preventDefault()}\n    >\n      <SearchInputBlock>\n        <SearchOutlinedStyled />\n        <Input\n          value={search}\n          onChange={onChange}\n          name=\"search\"\n          type=\"text\"\n          placeholder=\"Search...\"\n        />\n        {checkProductsLength && (\n        <CloseList onClick={reset}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"times-circle\" className=\"svg-inline--fa fa-times-circle fa-w-16\" role=\"img\" viewBox=\"0 0 512 512\"><path fill=\"gray\" d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z\" /></svg>\n        </CloseList>\n        )}\n      </SearchInputBlock>\n      <SearchList>\n        {searchProducts.map((product, index) => (\n          index < 5 && (\n          <Product\n            reset={reset}\n            key={product.itemNo}\n            product={product}\n          />\n          )\n        ))}\n\n        {checkProductsLength\n        && (\n        <Link\n          style={{display: 'inline-block', padding: '10px 0', width: '100%'}}\n          onClick={reset}\n          to=\"/catalog\"\n        >\n          All Products...\n        </Link>\n        )}\n      </SearchList>\n    </FormContainer>\n  )\n})\n\nSearchProducts.propTypes = {\n  hideInput: PropTypes.bool.isRequired,\n  setHideInput: PropTypes.func.isRequired\n}\n\nexport default React.memo(SearchProducts)"]},"metadata":{},"sourceType":"module"}