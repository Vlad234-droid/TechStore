{"ast":null,"code":"import axios from 'axios';\nimport { message } from 'antd';\nimport { DOMAIN, getHeaders } from '../../utils/constants';\nconst BASE_ENDPOINT = `${DOMAIN}/subscribers`;\n\nconst createNewSubscribe = credentials => {\n  axios.post(BASE_ENDPOINT, credentials).then(response => {\n    if (response.status === 200) {\n      message.info('You have been subscribed to updates!');\n    }\n  }).catch(error => {\n    const requestMessage = error.response.data.message;\n\n    if (requestMessage) {\n      message.warning(`${requestMessage}.`);\n    } else {\n      message.warning('Something went wrong, please try again.');\n    }\n  });\n};\n\nexport const getSubscriber = email => {\n  const headers = getHeaders();\n  const result = axios.get(`${BASE_ENDPOINT}/${email}`, {\n    headers\n  }).then(data => data).catch(err => err.response);\n  return result;\n};\nexport default createNewSubscribe;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/subscriptions/middleware.js"],"names":["axios","message","DOMAIN","getHeaders","BASE_ENDPOINT","createNewSubscribe","credentials","post","then","response","status","info","catch","error","requestMessage","data","warning","getSubscriber","email","headers","result","get","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,SAASC,MAAT,EAAiBC,UAAjB,QAAmC,uBAAnC;AAEA,MAAMC,aAAa,GAAI,GAAEF,MAAO,cAAhC;;AAEA,MAAMG,kBAAkB,GAAIC,WAAD,IAAiB;AAC1CN,EAAAA,KAAK,CAACO,IAAN,CAAWH,aAAX,EAA0BE,WAA1B,EACGE,IADH,CACSC,QAAD,IAAc;AAClB,QAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BT,MAAAA,OAAO,CAACU,IAAR,CAAa,sCAAb;AACD;AACF,GALH,EAMGC,KANH,CAMUC,KAAD,IAAW;AAChB,UAAMC,cAAc,GAAGD,KAAK,CAACJ,QAAN,CAAeM,IAAf,CAAoBd,OAA3C;;AACA,QAAIa,cAAJ,EAAoB;AAClBb,MAAAA,OAAO,CAACe,OAAR,CAAiB,GAAEF,cAAe,GAAlC;AACD,KAFD,MAEO;AACLb,MAAAA,OAAO,CAACe,OAAR,CAAgB,yCAAhB;AACD;AACF,GAbH;AAcD,CAfD;;AAgBA,OAAO,MAAMC,aAAa,GAAIC,KAAD,IAAW;AACtC,QAAMC,OAAO,GAAGhB,UAAU,EAA1B;AACA,QAAMiB,MAAM,GAAGpB,KAAK,CACjBqB,GADY,CACP,GAAEjB,aAAc,IAAGc,KAAM,EADlB,EACqB;AAACC,IAAAA;AAAD,GADrB,EAEZX,IAFY,CAENO,IAAD,IAAUA,IAFH,EAGZH,KAHY,CAGLU,GAAD,IAASA,GAAG,CAACb,QAHP,CAAf;AAIA,SAAOW,MAAP;AACD,CAPM;AAQP,eAAef,kBAAf","sourcesContent":["import axios from 'axios'\nimport { message } from 'antd'\nimport { DOMAIN, getHeaders } from '../../utils/constants'\n\nconst BASE_ENDPOINT = `${DOMAIN}/subscribers`;\n\nconst createNewSubscribe = (credentials) => {\n  axios.post(BASE_ENDPOINT, credentials,)\n    .then((response) => {\n      if (response.status === 200) {\n        message.info('You have been subscribed to updates!')\n      }\n    })\n    .catch((error) => {\n      const requestMessage = error.response.data.message\n      if (requestMessage) {\n        message.warning(`${requestMessage}.`)\n      } else {\n        message.warning('Something went wrong, please try again.')\n      }\n    })\n}\nexport const getSubscriber = (email) => {\n  const headers = getHeaders();\n  const result = axios\n    .get(`${BASE_ENDPOINT}/${email}`, {headers})\n    .then((data) => data)\n    .catch((err) => err.response);\n  return result\n}\nexport default createNewSubscribe"]},"metadata":{},"sourceType":"module"}