{"ast":null,"code":"import axios from 'axios';\nimport { createSubscribe, createSubscribeSuccess, createSubscribeError } from './actionCreator';\nconst headers = {\n  Autorization: localStorage.getItem('token'),\n  'Content-Type': 'application/json'\n};\n\nconst createNewSubscribe = newSubscriber => async dispatch => {\n  dispatch(createSubscribe());\n  axios.post('/subscribers', newSubscriber, {\n    headers\n  }).then(response => {\n    console.log(response);\n    dispatch(createSubscribeSuccess(response.data));\n  }).catch(err => {\n    console.log(err.response);\n    dispatch(createSubscribeError(err.response));\n  });\n};\n\nexport const getSubscriber = email => {\n  axios.get(`/subscribers/${email}`, {\n    headers\n  }).then(data => data).catch(err => err.response);\n  const result = get(`/subscribers/${email}`, {\n    headers\n  }).then(data => data).catch(err => err.response);\n};\nexport default createNewSubscribe;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/createSubscribe/middleware.js"],"names":["axios","createSubscribe","createSubscribeSuccess","createSubscribeError","headers","Autorization","localStorage","getItem","createNewSubscribe","newSubscriber","dispatch","post","then","response","console","log","data","catch","err","getSubscriber","email","get","result"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,EAA0BC,sBAA1B,EAAkDC,oBAAlD,QAA8E,iBAA9E;AAEA,MAAMC,OAAO,GAAG;AACdC,EAAAA,YAAY,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADA;AAEd,kBAAgB;AAFF,CAAhB;;AAKA,MAAMC,kBAAkB,GAAIC,aAAD,IAAmB,MAAOC,QAAP,IAAoB;AAChEA,EAAAA,QAAQ,CAACT,eAAe,EAAhB,CAAR;AACAD,EAAAA,KAAK,CAACW,IAAN,CAAW,cAAX,EAA2BF,aAA3B,EAA0C;AAACL,IAAAA;AAAD,GAA1C,EACGQ,IADH,CACSC,QAAD,IAAc;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAH,IAAAA,QAAQ,CAACR,sBAAsB,CAACW,QAAQ,CAACG,IAAV,CAAvB,CAAR;AACD,GAJH,EAKGC,KALH,CAKUC,GAAD,IAAS;AACdJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACL,QAAhB;AACAH,IAAAA,QAAQ,CAACP,oBAAoB,CAACe,GAAG,CAACL,QAAL,CAArB,CAAR;AACD,GARH;AASD,CAXD;;AAYA,OAAO,MAAMM,aAAa,GAAIC,KAAD,IAAW;AACtCpB,EAAAA,KAAK,CACFqB,GADH,CACQ,gBAAeD,KAAM,EAD7B,EACgC;AAAChB,IAAAA;AAAD,GADhC,EAEGQ,IAFH,CAESI,IAAD,IAAUA,IAFlB,EAGGC,KAHH,CAGUC,GAAD,IAASA,GAAG,CAACL,QAHtB;AAIA,QAAMS,MAAM,GAAGD,GAAG,CAAE,gBAAeD,KAAM,EAAvB,EAA0B;AAAChB,IAAAA;AAAD,GAA1B,CAAH,CACZQ,IADY,CACNI,IAAD,IAAUA,IADH,EAEZC,KAFY,CAELC,GAAD,IAASA,GAAG,CAACL,QAFP,CAAf;AAGD,CARM;AASP,eAAeL,kBAAf","sourcesContent":["import axios from 'axios'\nimport { createSubscribe, createSubscribeSuccess, createSubscribeError } from './actionCreator'\n\nconst headers = {\n  Autorization: localStorage.getItem('token'),\n  'Content-Type': 'application/json'\n}\n\nconst createNewSubscribe = (newSubscriber) => async (dispatch) => {\n  dispatch(createSubscribe());\n  axios.post('/subscribers', newSubscriber, {headers})\n    .then((response) => {\n      console.log(response);\n      dispatch(createSubscribeSuccess(response.data))\n    })\n    .catch((err) => {\n      console.log(err.response)\n      dispatch(createSubscribeError(err.response))\n    })\n}\nexport const getSubscriber = (email) => {\n  axios\n    .get(`/subscribers/${email}`, {headers})\n    .then((data) => data)\n    .catch((err) => err.response);\n  const result = get(`/subscribers/${email}`, {headers})\n    .then((data) => data)\n    .catch((err) => err.response);\n}\nexport default createNewSubscribe"]},"metadata":{},"sourceType":"module"}