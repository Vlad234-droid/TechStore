{"ast":null,"code":"import axios from 'axios';\nimport { message, Alert } from 'antd';\nconst BASE_ENDPOINT = '/customers';\nconst headers = {\n  authorization: localStorage.getItem('token'),\n  'Content-Type': 'application/json'\n};\nexport const createCustomer = (credentials, history) => {\n  axios.post(BASE_ENDPOINT, credentials).then(res => {\n    if (res.status === 200) {\n      history.push('/');\n      message.info('New account created successfully');\n    }\n  }).catch(error => {\n    if (error.response) {\n      const requestMessage = error.response.data.message;\n      message.error(`Error: ${requestMessage}`);\n    }\n  });\n};\nexport const changePassword = passwords => {\n  const res = axios.put(`${BASE_ENDPOINT}/password`, passwords, {\n    headers\n  }).then(data => console.log(data)).catch(error => console.log(error.response));\n  return res;\n}; // data.password Password does not match\n// data.message Password does not match <Alert message=\"Success Tips\" type=\"success\" showIcon />\n\nexport const updateCustomer = credentials => {\n  const res = axios.put(BASE_ENDPOINT, credentials, {\n    headers\n  }).then(data => data).catch(error => error.response);\n  return res;\n};\nexport const getCustomer = () => {\n  const res = axios.get(`${BASE_ENDPOINT}/customer`, {\n    headers\n  }).then(data => data).catch(error => {\n    error(error.response);\n  });\n  return res;\n};","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/customer/middleware.js"],"names":["axios","message","Alert","BASE_ENDPOINT","headers","authorization","localStorage","getItem","createCustomer","credentials","history","post","then","res","status","push","info","catch","error","response","requestMessage","data","changePassword","passwords","put","console","log","updateCustomer","getCustomer","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,KAAlB,QAA+B,MAA/B;AAEA,MAAMC,aAAa,GAAG,YAAtB;AAEA,MAAMC,OAAO,GAAG;AACdC,EAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADD;AAEd,kBAAgB;AAFF,CAAhB;AAKA,OAAO,MAAMC,cAAc,GAAG,CAACC,WAAD,EAAcC,OAAd,KAA0B;AACtDV,EAAAA,KAAK,CAACW,IAAN,CAAWR,aAAX,EAA0BM,WAA1B,EACGG,IADH,CACSC,GAAD,IAAS;AACb,QAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtBJ,MAAAA,OAAO,CAACK,IAAR,CAAa,GAAb;AACAd,MAAAA,OAAO,CAACe,IAAR,CAAa,kCAAb;AACD;AACF,GANH,EAOGC,KAPH,CAOUC,KAAD,IAAW;AAChB,QAAIA,KAAK,CAACC,QAAV,EAAoB;AAClB,YAAMC,cAAc,GAAGF,KAAK,CAACC,QAAN,CAAeE,IAAf,CAAoBpB,OAA3C;AACAA,MAAAA,OAAO,CAACiB,KAAR,CAAe,UAASE,cAAe,EAAvC;AACD;AACF,GAZH;AAaD,CAdM;AAgBP,OAAO,MAAME,cAAc,GAAIC,SAAD,IAAe;AAC3C,QAAMV,GAAG,GAAGb,KAAK,CAACwB,GAAN,CAAW,GAAErB,aAAc,WAA3B,EAAuCoB,SAAvC,EAAkD;AAACnB,IAAAA;AAAD,GAAlD,EACTQ,IADS,CACHS,IAAD,IAAUI,OAAO,CAACC,GAAR,CAAYL,IAAZ,CADN,EAETJ,KAFS,CAEFC,KAAD,IAAWO,OAAO,CAACC,GAAR,CAAYR,KAAK,CAACC,QAAlB,CAFR,CAAZ;AAGA,SAAON,GAAP;AACD,CALM,C,CAMP;AACA;;AACA,OAAO,MAAMc,cAAc,GAAIlB,WAAD,IAAiB;AAC7C,QAAMI,GAAG,GAAGb,KAAK,CAACwB,GAAN,CAAUrB,aAAV,EAAyBM,WAAzB,EAAsC;AAACL,IAAAA;AAAD,GAAtC,EACTQ,IADS,CACHS,IAAD,IAAUA,IADN,EAETJ,KAFS,CAEFC,KAAD,IAAWA,KAAK,CAACC,QAFd,CAAZ;AAGA,SAAON,GAAP;AACD,CALM;AAOP,OAAO,MAAMe,WAAW,GAAG,MAAM;AAC/B,QAAMf,GAAG,GAAGb,KAAK,CAAC6B,GAAN,CAAW,GAAE1B,aAAc,WAA3B,EAAuC;AAACC,IAAAA;AAAD,GAAvC,EACTQ,IADS,CACHS,IAAD,IAAWA,IADP,EAETJ,KAFS,CAEFC,KAAD,IAAW;AAChBA,IAAAA,KAAK,CAACA,KAAK,CAACC,QAAP,CAAL;AACD,GAJS,CAAZ;AAKA,SAAON,GAAP;AACD,CAPM","sourcesContent":["import axios from 'axios'\nimport { message, Alert } from 'antd'\n\nconst BASE_ENDPOINT = '/customers'\n\nconst headers = {\n  authorization: localStorage.getItem('token'),\n  'Content-Type': 'application/json'\n}\n\nexport const createCustomer = (credentials, history) => {\n  axios.post(BASE_ENDPOINT, credentials)\n    .then((res) => {\n      if (res.status === 200) {\n        history.push('/')\n        message.info('New account created successfully')\n      }\n    })\n    .catch((error) => {\n      if (error.response) {\n        const requestMessage = error.response.data.message\n        message.error(`Error: ${requestMessage}`)\n      }\n    })\n}\n\nexport const changePassword = (passwords) => {\n  const res = axios.put(`${BASE_ENDPOINT}/password`, passwords, {headers})\n    .then((data) => console.log(data))\n    .catch((error) => console.log(error.response))\n  return res\n}\n// data.password Password does not match\n// data.message Password does not match <Alert message=\"Success Tips\" type=\"success\" showIcon />\nexport const updateCustomer = (credentials) => {\n  const res = axios.put(BASE_ENDPOINT, credentials, {headers})\n    .then((data) => data)\n    .catch((error) => error.response)\n  return res\n}\n\nexport const getCustomer = () => {\n  const res = axios.get(`${BASE_ENDPOINT}/customer`, {headers})\n    .then((data) => (data))\n    .catch((error) => {\n      error(error.response)\n    })\n  return res\n}"]},"metadata":{},"sourceType":"module"}