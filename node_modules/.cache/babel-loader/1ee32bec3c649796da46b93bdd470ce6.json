{"ast":null,"code":"import { ADD_TO_CART, INCREASE_QUANTITY, DECREASE_QUANTITY, REMOVE_FROM_CART, CLEAR_CART, SET_CART, SET_CART_SUMMARY, GET_BRANCHES, GET_SHIPPING_COST, GET_CUSTOMER, GET_ORDER, CLEAR_ORDER } from './actionType';\nexport const MODULE_NAME = 'cart';\nexport const selectProducts = state => state[MODULE_NAME].products;\nexport const selectproductCartCount = state => state[MODULE_NAME].productCartCount;\nexport const selectCartSummary = state => state[MODULE_NAME].summary;\nexport const selectCustomer = state => state[MODULE_NAME].customer;\nexport const selectCities = state => state[MODULE_NAME].cities;\nexport const selectBranches = state => state[MODULE_NAME].branches;\nexport const selectShippingCost = state => state[MODULE_NAME].shippingCost;\nexport const selectOrder = state => state[MODULE_NAME].order;\nconst initialState = {\n  summary: 0,\n  products: [],\n  customer: {},\n  branches: [],\n  shippingCost: 0,\n  order: {},\n  productCartCount: 0,\n  cities: [{\n    CityName: 'Kyiv',\n    Ref: '8d5a980d-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Dnipro',\n    Ref: 'db5c88f0-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Kharkiv',\n    Ref: 'db5c88e0-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Lviv',\n    Ref: 'db5c88f5-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Odessa',\n    Ref: 'db5c88d0-391c-11dd-90d9-001a92567626'\n  }]\n};\nexport const cartReducer = (state = initialState, {\n  type,\n  payload\n}) => {\n  const summaryTotalItems = payload => payload.products.reduce((sum, curr) => sum + curr.cartQuantity * curr.product.currentPrice, 0);\n\n  switch (type) {\n    case ADD_TO_CART:\n    case DECREASE_QUANTITY:\n    case INCREASE_QUANTITY:\n    case REMOVE_FROM_CART:\n      return { ...state,\n        products: payload.products,\n        summary: summaryTotalItems(payload),\n        productCartCount: payload.products.reduce((sum, curr) => sum + curr.cartQuantity, 0)\n      };\n\n    case SET_CART:\n      return { ...state,\n        products: payload.products,\n        customer: payload.customerId || {},\n        productCartCount: payload.products.reduce((sum, curr) => sum + curr.cartQuantity, 0),\n        summary: summaryTotalItems(payload)\n      };\n\n    case SET_CART_SUMMARY:\n      return { ...state,\n        summary: payload\n      };\n\n    case GET_BRANCHES:\n      return { ...state,\n        branches: payload,\n        shippingCost: 0\n      };\n\n    case GET_SHIPPING_COST:\n      return { ...state,\n        shippingCost: payload\n      };\n\n    case GET_CUSTOMER:\n      return { ...state,\n        customer: payload.customerId\n      };\n\n    case GET_ORDER:\n      return { ...state,\n        order: payload\n      };\n\n    case CLEAR_CART:\n      return { ...state,\n        products: [],\n        summary: 0,\n        shippingCost: 0,\n        productCartCount: 0\n      };\n\n    case CLEAR_ORDER:\n      return { ...state,\n        order: {}\n      };\n\n    default:\n      return state;\n  }\n};\nexport default cartReducer;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/cart/reducer.js"],"names":["ADD_TO_CART","INCREASE_QUANTITY","DECREASE_QUANTITY","REMOVE_FROM_CART","CLEAR_CART","SET_CART","SET_CART_SUMMARY","GET_BRANCHES","GET_SHIPPING_COST","GET_CUSTOMER","GET_ORDER","CLEAR_ORDER","MODULE_NAME","selectProducts","state","products","selectproductCartCount","productCartCount","selectCartSummary","summary","selectCustomer","customer","selectCities","cities","selectBranches","branches","selectShippingCost","shippingCost","selectOrder","order","initialState","CityName","Ref","cartReducer","type","payload","summaryTotalItems","reduce","sum","curr","cartQuantity","product","currentPrice","customerId"],"mappings":"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","sourcesContent":["import {\n  ADD_TO_CART,\n  INCREASE_QUANTITY,\n  DECREASE_QUANTITY,\n  REMOVE_FROM_CART,\n  CLEAR_CART,\n  SET_CART,\n  SET_CART_SUMMARY,\n  GET_BRANCHES,\n  GET_SHIPPING_COST,\n  GET_CUSTOMER,\n  GET_ORDER,\n  CLEAR_ORDER\n} from './actionType';\n\nexport const MODULE_NAME = 'cart';\nexport const selectProducts = (state) => state[MODULE_NAME].products;\nexport const selectproductCartCount = (state) => state[MODULE_NAME].productCartCount;\nexport const selectCartSummary = (state) => state[MODULE_NAME].summary;\nexport const selectCustomer = (state) => state[MODULE_NAME].customer;\nexport const selectCities = (state) => state[MODULE_NAME].cities;\nexport const selectBranches = (state) => state[MODULE_NAME].branches;\nexport const selectShippingCost = (state) => state[MODULE_NAME].shippingCost;\nexport const selectOrder = (state) => state[MODULE_NAME].order;\n\nconst initialState = {\n  summary: 0,\n  products: [],\n  customer: {},\n  branches: [],\n  shippingCost: 0,\n  order: {},\n  productCartCount: 0,\n  cities: [\n    {\n      CityName: 'Kyiv',\n      Ref: '8d5a980d-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Dnipro',\n      Ref: 'db5c88f0-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Kharkiv',\n      Ref: 'db5c88e0-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Lviv',\n      Ref: 'db5c88f5-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Odessa',\n      Ref: 'db5c88d0-391c-11dd-90d9-001a92567626'\n    },\n  ],\n}\n\nexport const cartReducer = (state = initialState, {type, payload}) => {\n  const summaryTotalItems = (payload) => payload.products.reduce(\n    (sum, curr) => sum + curr.cartQuantity * curr.product.currentPrice,\n    0\n  )\n  switch (type) {\n    case ADD_TO_CART:\n    case DECREASE_QUANTITY:\n    case INCREASE_QUANTITY:\n    case REMOVE_FROM_CART:\n      return {\n        ...state,\n        products: payload.products,\n        summary: summaryTotalItems(payload),\n        productCartCount: payload.products.reduce(\n          (sum, curr) => sum + curr.cartQuantity,\n          0\n        ),\n      }\n    case SET_CART:\n      return {\n        ...state,\n        products: payload.products,\n        customer: payload.customerId || {},\n        productCartCount: payload.products.reduce(\n          (sum, curr) => sum + curr.cartQuantity,\n          0\n        ),\n        summary: summaryTotalItems(payload)\n      }\n    case SET_CART_SUMMARY:\n      return {\n        ...state,\n        summary: payload,\n      }\n    case GET_BRANCHES:\n      return {\n        ...state,\n        branches: payload,\n        shippingCost: 0,\n      }\n    case GET_SHIPPING_COST:\n      return {\n        ...state,\n        shippingCost: payload,\n      }\n    case GET_CUSTOMER:\n      return {\n        ...state,\n        customer: payload.customerId,\n      }\n    case GET_ORDER:\n      return {\n        ...state,\n        order: payload,\n      }\n    case CLEAR_CART:\n      return {\n        ...state,\n        products: [],\n        summary: 0,\n        shippingCost: 0,\n        productCartCount: 0,\n      }\n    case CLEAR_ORDER:\n      return {\n        ...state,\n        order: {},\n      }\n    default:\n      return state\n  }\n}\n\nexport default cartReducer"]},"metadata":{},"sourceType":"module"}