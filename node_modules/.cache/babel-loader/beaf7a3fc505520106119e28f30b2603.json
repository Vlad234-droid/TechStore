{"ast":null,"code":"/* eslint-disable no-unused-vars */\nimport axios from 'axios';\nimport { DOMAIN } from '../general';\nimport { logIn, logOut } from './actionCreator';\nimport updateWishlistCreator from '../wishlist/actionCreator';\nimport { initialState as wishlistInitialState } from '../wishlist/reducer';\nexport const authLogIn = credentials => dispatch => {\n  const res = axios.post(`${DOMAIN}/customers/login`, credentials).then(data => {\n    if (data.status === 200) {\n      dispatch(logIn());\n    }\n\n    return data;\n  }).catch(error => error.response);\n  return res;\n};\nexport const authLogOut = () => dispatch => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('wishlist');\n  dispatch(logOut());\n  dispatch(updateWishlistCreator(wishlistInitialState));\n};\nexport default authLogIn;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/auth/middleware.js"],"names":["axios","DOMAIN","logIn","logOut","updateWishlistCreator","initialState","wishlistInitialState","authLogIn","credentials","dispatch","res","post","then","data","status","catch","error","response","authLogOut","localStorage","removeItem"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,iBAA9B;AACA,OAAOC,qBAAP,MAAkC,2BAAlC;AACA,SAASC,YAAY,IAAIC,oBAAzB,QAAoD,qBAApD;AAEA,OAAO,MAAMC,SAAS,GAAIC,WAAD,IAAkBC,QAAD,IAAc;AACtD,QAAMC,GAAG,GAAGV,KAAK,CAACW,IAAN,CAAY,GAAEV,MAAO,kBAArB,EAAwCO,WAAxC,EACTI,IADS,CACHC,IAAD,IAAU;AACd,QAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACvBL,MAAAA,QAAQ,CAACP,KAAK,EAAN,CAAR;AACD;;AACD,WAAOW,IAAP;AACD,GANS,EAOTE,KAPS,CAOFC,KAAD,IAAWA,KAAK,CAACC,QAPd,CAAZ;AAQA,SAAOP,GAAP;AACD,CAVM;AAYP,OAAO,MAAMQ,UAAU,GAAG,MAAOT,QAAD,IAAc;AAC5CU,EAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACAX,EAAAA,QAAQ,CAACN,MAAM,EAAP,CAAR;AACAM,EAAAA,QAAQ,CAACL,qBAAqB,CAACE,oBAAD,CAAtB,CAAR;AACD,CALM;AAOP,eAAeC,SAAf","sourcesContent":["/* eslint-disable no-unused-vars */\nimport axios from 'axios'\nimport { DOMAIN } from '../general'\nimport { logIn, logOut } from './actionCreator'\nimport updateWishlistCreator from '../wishlist/actionCreator'\nimport { initialState as wishlistInitialState} from '../wishlist/reducer'\n\nexport const authLogIn = (credentials) => (dispatch) => {\n  const res = axios.post(`${DOMAIN}/customers/login`, credentials)\n    .then((data) => {\n      if (data.status === 200) {\n        dispatch(logIn())\n      }\n      return data\n    })\n    .catch((error) => error.response)\n  return res\n}\n\nexport const authLogOut = () => (dispatch) => {\n  localStorage.removeItem('token')\n  localStorage.removeItem('wishlist')\n  dispatch(logOut())\n  dispatch(updateWishlistCreator(wishlistInitialState))\n}\n\nexport default authLogIn\n"]},"metadata":{},"sourceType":"module"}