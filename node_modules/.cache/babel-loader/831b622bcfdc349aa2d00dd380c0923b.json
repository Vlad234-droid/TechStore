{"ast":null,"code":"var _jsxFileName = \"/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/components/Checkout/FormCheckout/FormCheckout.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useMemo, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Input, Radio, Select } from 'antd';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom/';\nimport { selectBranches, selectCities, selectCustomer, selectProducts, selectShippingCost } from '../../../store/cart/reducer';\nimport { StyledRadio, StyledShippingTitle } from '../StyledCheckout';\nimport StyledButton from '../../common/Buttons/StyledButton';\nimport { getCity, getShippingCost, PlaceOrder } from '../../../store/cart/middleware';\nimport { selectIsLogin } from '../../../store/auth/reducer';\nimport { validName, validTelephone } from '../../../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => ({\n  cities: selectCities(state),\n  branches: selectBranches(state),\n  customer: selectCustomer(state),\n  shippingCost: selectShippingCost(state),\n  products: selectProducts(state),\n  isLogin: selectIsLogin(state)\n});\n\nconst FormCheckout = connect(mapStateToProps, {\n  getCity,\n  getShippingCost,\n  PlaceOrder\n})(_s(({\n  cities,\n  branches,\n  customer,\n  getCity,\n  shippingCost,\n  PlaceOrder,\n  isLogin,\n  products,\n  getShippingCost\n}) => {\n  _s();\n\n  const {\n    Option\n  } = Select;\n  const history = useHistory();\n  const formLayout = {\n    labelCol: {\n      xs: {\n        span: 24\n      },\n      sm: {\n        span: 6\n      },\n      md: {\n        span: 8\n      },\n      lg: {\n        span: 7\n      }\n    },\n    wrapperCol: {\n      xs: {\n        span: 24\n      },\n      sm: {\n        span: 16\n      },\n      md: {\n        span: 16\n      },\n      lg: {\n        span: 12\n      }\n    }\n  };\n  const fields = useMemo(() => [{\n    name: 'email',\n    value: customer.email || null\n  }, {\n    name: 'firstName',\n    value: customer.firstName || null\n  }, {\n    name: 'lastName',\n    value: customer.lastName || null\n  }, {\n    name: 'phoneNumber',\n    value: customer.telephone || '+380'\n  }, {\n    name: 'country',\n    value: 'Ukraine'\n  }], [customer]);\n  const recipientCityRef = useRef();\n  const countryRef = useRef();\n  const branchSelect = useRef();\n  const [valuePaymentInfo, setValuePaymentInfo] = useState('Payment at the time of receipt of the goods');\n  const [form] = Form.useForm();\n\n  const handleCityChange = async props => {\n    await getCity(props);\n    form.setFieldsValue({\n      recipientBranch: null\n    });\n  };\n\n  const onChangeRadio = e => {\n    setValuePaymentInfo(e.target.value);\n  };\n\n  const onFinish = values => {\n    PlaceOrder(products, isLogin, values, customer, shippingCost, valuePaymentInfo);\n    window.scrollTo(0, 0);\n    history.push('/order');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, { ...formLayout,\n    name: \"checkout-form\",\n    fields: fields,\n    form: form,\n    onFinish: onFinish,\n    children: [/*#__PURE__*/_jsxDEV(StyledShippingTitle, {\n      children: \"Customer Details:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Email\",\n      name: \"email\",\n      rules: [{\n        required: true,\n        message: 'Please input your active email.'\n      }, {\n        type: 'email',\n        message: 'Entered data is not an email.'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"test@testmail.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"First name\",\n      name: \"firstName\",\n      rules: [{\n        required: true,\n        message: 'Please input your name.'\n      }, {\n        type: 'string',\n        min: 2,\n        max: 25,\n        message: 'FirstName must be between 2 and 25 characters'\n      }, {\n        pattern: validName,\n        message: 'First name cannot contain characters or numbers'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"First name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Last name\",\n      name: \"lastName\",\n      rules: [{\n        required: true,\n        message: 'Please input your Last name.'\n      }, {\n        type: 'string',\n        min: 2,\n        max: 25,\n        message: 'LastName must be between 2 and 25 characters'\n      }, {\n        pattern: validName,\n        message: 'Last name cannot contain characters or numbers'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Last name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Phone number\",\n      name: \"phoneNumber\",\n      rules: [{\n        required: true,\n        message: 'Please input your phone number 380 XX XXX XXXX',\n        min: 12,\n        max: 12\n      }, {\n        pattern: validTelephone,\n        message: 'Phone number cannot contain letter'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Mobile Number 380 XX XXX XXXX\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledShippingTitle, {\n      children: \"Payment Details:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Radio.Group, {\n      name: \"paymentInfo\",\n      onChange: onChangeRadio,\n      value: valuePaymentInfo,\n      style: {\n        marginBottom: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(StyledRadio, {\n        value: \"Payment at the time of receipt of the goods\",\n        children: \"Payment at the time of receipt of the goods\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledShippingTitle, {\n      children: \"Shipping Details:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Country\",\n      name: \"country\",\n      rules: [{\n        required: true,\n        message: 'Country is required'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        disabled: true,\n        ref: countryRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"City\",\n      name: \"recipientCity\",\n      title: \"City choice\",\n      rules: [{\n        required: true,\n        message: 'Recipient city is required'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        placeholder: \"Select the city of recipient\",\n        onChange: handleCityChange,\n        ref: recipientCityRef,\n        children: cities.map(item => /*#__PURE__*/_jsxDEV(Option, {\n          value: item.Ref,\n          children: item.CityName\n        }, item.Ref, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"\\u2116 branch\",\n      name: \"recipientBranch\",\n      rules: [{\n        required: true,\n        message: 'Branch is required'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        placeholder: \"Select the branch of Nova Poshta of the recipient\",\n        onChange: () => getShippingCost(recipientCityRef),\n        ref: branchSelect,\n        children: branches.map(item => /*#__PURE__*/_jsxDEV(Option, {\n          value: item.branchName,\n          children: item.branchName\n        }, item.branchRef, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledButton, {\n      shape: \"round\",\n      htmlType: \"submit\",\n      children: \"Place Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}, \"eDj2TAKP8m9eYxHXPdWI3xGE6/U=\", false, function () {\n  return [useHistory, Form.useForm];\n}));\nexport default FormCheckout;\nFormCheckout.propTypes = {\n  cities: PropTypes.string,\n  branches: PropTypes.string,\n  shippingCost: PropTypes.number,\n  getCity: PropTypes.func,\n  getShippingCost: PropTypes.func,\n  PlaceOrder: PropTypes.func,\n  customer: PropTypes.shape({\n    telephone: PropTypes.string,\n    lastName: PropTypes.string,\n    firstName: PropTypes.string,\n    email: PropTypes.string\n  })\n};","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/components/Checkout/FormCheckout/FormCheckout.jsx"],"names":["React","useMemo","useRef","useState","PropTypes","Form","Input","Radio","Select","connect","useHistory","selectBranches","selectCities","selectCustomer","selectProducts","selectShippingCost","StyledRadio","StyledShippingTitle","StyledButton","getCity","getShippingCost","PlaceOrder","selectIsLogin","validName","validTelephone","mapStateToProps","state","cities","branches","customer","shippingCost","products","isLogin","FormCheckout","Option","history","formLayout","labelCol","xs","span","sm","md","lg","wrapperCol","fields","name","value","email","firstName","lastName","telephone","recipientCityRef","countryRef","branchSelect","valuePaymentInfo","setValuePaymentInfo","form","useForm","handleCityChange","props","setFieldsValue","recipientBranch","onChangeRadio","e","target","onFinish","values","window","scrollTo","push","required","message","type","min","max","pattern","marginBottom","map","item","Ref","CityName","branchName","branchRef","propTypes","string","number","func","shape"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\nimport React, {\n  useMemo, useRef, useState\n} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Form, Input, Radio, Select\n} from 'antd';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom/';\nimport {\n  selectBranches,\n  selectCities,\n  selectCustomer,\n  selectProducts,\n  selectShippingCost\n} from '../../../store/cart/reducer';\nimport {StyledRadio, StyledShippingTitle} from '../StyledCheckout';\nimport StyledButton from '../../common/Buttons/StyledButton';\nimport {\n  getCity, getShippingCost, PlaceOrder\n} from '../../../store/cart/middleware';\nimport { selectIsLogin } from '../../../store/auth/reducer';\nimport { validName, validTelephone } from '../../../utils/constants';\n\nconst mapStateToProps = (state) => ({\n  cities: selectCities(state),\n  branches: selectBranches(state),\n  customer: selectCustomer(state),\n  shippingCost: selectShippingCost(state),\n  products: selectProducts(state),\n  isLogin: selectIsLogin(state)\n})\n\nconst FormCheckout = connect(mapStateToProps, {getCity, getShippingCost, PlaceOrder})(({\n  cities, branches, customer, getCity, shippingCost, PlaceOrder, isLogin, products, getShippingCost\n}) => {\n  const { Option } = Select;\n  const history = useHistory()\n  \n  const formLayout = {\n    labelCol: {\n      xs: {\n        span: 24,\n      },\n      sm: {\n        span: 6,\n      },\n      md: {\n        span: 8,\n      },\n      lg: {\n        span: 7,\n      },\n    },\n    wrapperCol: {\n      xs: {\n        span: 24,\n      },\n      sm: {\n        span: 16,\n      },\n      md: {\n        span: 16,\n      },\n      lg: {\n        span: 12,\n      },\n    },\n  };\n        \n  const fields = useMemo(() => ([{\n    name: 'email',\n    value: customer.email || null\n  },\n  {\n    name: 'firstName',\n    value: customer.firstName || null\n  },\n  {\n    name: 'lastName',\n    value: customer.lastName || null\n  },\n  {\n    name: 'phoneNumber',\n    value: customer.telephone || '+380'\n  },\n  {\n    name: 'country',\n    value: 'Ukraine'\n  },\n  ]), [customer])\n\n  const recipientCityRef = useRef();\n  const countryRef = useRef();\n  const branchSelect = useRef();\n  const [valuePaymentInfo, setValuePaymentInfo] = useState(\n    'Payment at the time of receipt of the goods'\n  );\n\n  const [form] = Form.useForm();\n  \n  const handleCityChange = async (props) => {\n    await getCity(props);\n    form.setFieldsValue({recipientBranch: null})\n  }\n\n  const onChangeRadio = (e) => {\n    setValuePaymentInfo(e.target.value);\n  };\n\n  const onFinish = (values) => {\n    PlaceOrder(products, isLogin, values, customer, shippingCost, valuePaymentInfo)\n    window.scrollTo(0, 0);\n    history.push('/order')\n  };\n    \n  return (\n    <Form\n      {...formLayout}\n      name=\"checkout-form\"\n      fields={fields}\n      form={form}\n      onFinish={onFinish}\n    >\n      <StyledShippingTitle>\n        Customer Details:\n      </StyledShippingTitle>\n\n      <Form.Item\n        label=\"Email\"\n        name=\"email\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your active email.',\n          },\n          {\n            type: 'email',\n            message: 'Entered data is not an email.',\n          },\n        ]}\n      >\n        <Input\n          placeholder=\"test@testmail.com\"\n        />\n      </Form.Item>\n      \n      <Form.Item\n        label=\"First name\"\n        name=\"firstName\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your name.',\n          },\n          {\n            type: 'string',\n            min: 2,\n            max: 25,\n            message: 'FirstName must be between 2 and 25 characters',\n          },\n          {\n            pattern: validName,\n            message: 'First name cannot contain characters or numbers'\n          },\n        ]}\n      >\n        <Input placeholder=\"First name\" />\n      </Form.Item>\n\n      <Form.Item\n        label=\"Last name\"\n        name=\"lastName\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your Last name.',\n          },\n          {\n            type: 'string',\n            min: 2,\n            max: 25,\n            message: 'LastName must be between 2 and 25 characters',\n          },\n          {\n            pattern: validName,\n            message: 'Last name cannot contain characters or numbers'\n          }\n        ]}\n      >\n        <Input placeholder=\"Last name\" />\n      </Form.Item>\n\n      <Form.Item\n        label=\"Phone number\"\n        name=\"phoneNumber\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your phone number 380 XX XXX XXXX',\n            min: 12,\n            max: 12,\n          },\n          {\n            pattern: validTelephone,\n            message: 'Phone number cannot contain letter'\n          }\n        ]}\n      >\n        <Input placeholder=\"Mobile Number 380 XX XXX XXXX\" />\n      </Form.Item>\n\n      <StyledShippingTitle>\n        Payment Details:\n      </StyledShippingTitle>\n\n      <Radio.Group\n        name=\"paymentInfo\"\n        onChange={onChangeRadio}\n        value={valuePaymentInfo}\n        style={{marginBottom: '20px'}}\n      >\n        <StyledRadio value=\"Payment at the time of receipt of the goods\">\n          Payment at the time of receipt of the goods\n        </StyledRadio>\n      </Radio.Group>\n      \n      <StyledShippingTitle>\n        Shipping Details:\n      </StyledShippingTitle>\n\n      <Form.Item\n        label=\"Country\"\n        name=\"country\"\n        rules={[{ required: true, message: 'Country is required' }]}\n      >\n        <Input disabled ref={countryRef} />\n      </Form.Item>\n\n      <Form.Item\n        label=\"City\"\n        name=\"recipientCity\"\n        title=\"City choice\"\n        rules={[\n          { required: true, message: 'Recipient city is required' },\n          \n        ]}\n      >\n        <Select\n          placeholder=\"Select the city of recipient\"\n          onChange={handleCityChange}\n          ref={recipientCityRef}\n        >\n          {cities.map((item) => (\n            <Option value={item.Ref} key={item.Ref}>\n              {item.CityName}\n            </Option>\n          ))}\n        </Select>\n      </Form.Item>\n\n      <Form.Item\n        label=\"№ branch\"\n        name=\"recipientBranch\"\n        rules={[\n          { required: true, message: 'Branch is required' },\n        ]}\n      >\n        <Select\n          placeholder=\"Select the branch of Nova Poshta of the recipient\"\n          onChange={() => getShippingCost(recipientCityRef)}\n          ref={branchSelect}\n        >\n          {branches.map((item) => (\n            <Option value={item.branchName} key={item.branchRef}>\n              {item.branchName}\n            </Option>\n          ))}\n        </Select>\n      </Form.Item>\n      \n      <StyledButton shape=\"round\" htmlType=\"submit\">\n        Place Order\n      </StyledButton>\n\n    </Form>\n  )\n})\n\nexport default FormCheckout;\n\nFormCheckout.propTypes = {\n  cities: PropTypes.string,\n  branches: PropTypes.string,\n  shippingCost: PropTypes.number,\n  getCity: PropTypes.func,\n  getShippingCost: PropTypes.func,\n  PlaceOrder: PropTypes.func,\n  customer: PropTypes.shape({\n    telephone: PropTypes.string,\n    lastName: PropTypes.string,\n    firstName: PropTypes.string,\n    email: PropTypes.string,\n  }),\n}"]},"metadata":{},"sourceType":"module"}