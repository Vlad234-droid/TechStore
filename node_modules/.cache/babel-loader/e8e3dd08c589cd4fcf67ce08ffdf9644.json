{"ast":null,"code":"import axios from 'axios';\nimport { message } from 'antd';\nimport { DOMAIN, getHeaders } from '../general';\nconst BASE_ENDPOINT = `${DOMAIN}/subscribers`;\n\nconst createNewSubscribe = credentials => {\n  axios.post(BASE_ENDPOINT, credentials).then(response => {\n    if (response.status === 200) {\n      message.info('You have been subscribed to updates!');\n    }\n  }).catch(error => {\n    if (error.response) {\n      const requestMessage = error.response.data.message;\n\n      if (requestMessage) {\n        message.error(`Error: ${requestMessage}.`);\n      } else {\n        message.error('Something went wrong, please try again.');\n      }\n    }\n  });\n};\n\nexport const getSubscriber = email => {\n  const headers = getHeaders();\n  const result = axios.get(`${BASE_ENDPOINT}/${email}`, {\n    headers\n  }).then(data => data).catch(err => err.response);\n  return result;\n};\nexport default createNewSubscribe;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/createSubscribe/middleware.js"],"names":["axios","message","DOMAIN","getHeaders","BASE_ENDPOINT","createNewSubscribe","credentials","post","then","response","status","info","catch","error","requestMessage","data","getSubscriber","email","headers","result","get","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,SAASC,MAAT,EAAiBC,UAAjB,QAAmC,YAAnC;AAEA,MAAMC,aAAa,GAAI,GAAEF,MAAO,cAAhC;;AAEA,MAAMG,kBAAkB,GAAIC,WAAD,IAAiB;AAC1CN,EAAAA,KAAK,CAACO,IAAN,CAAWH,aAAX,EAA0BE,WAA1B,EACGE,IADH,CACSC,QAAD,IAAc;AAClB,QAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BT,MAAAA,OAAO,CAACU,IAAR,CAAa,sCAAb;AACD;AACF,GALH,EAMGC,KANH,CAMUC,KAAD,IAAW;AAChB,QAAIA,KAAK,CAACJ,QAAV,EAAoB;AAClB,YAAMK,cAAc,GAAGD,KAAK,CAACJ,QAAN,CAAeM,IAAf,CAAoBd,OAA3C;;AACA,UAAIa,cAAJ,EAAoB;AAClBb,QAAAA,OAAO,CAACY,KAAR,CAAe,UAASC,cAAe,GAAvC;AACD,OAFD,MAEO;AACLb,QAAAA,OAAO,CAACY,KAAR,CAAc,yCAAd;AACD;AACF;AACF,GAfH;AAgBD,CAjBD;;AAkBA,OAAO,MAAMG,aAAa,GAAIC,KAAD,IAAW;AACtC,QAAMC,OAAO,GAAGf,UAAU,EAA1B;AACA,QAAMgB,MAAM,GAAGnB,KAAK,CACjBoB,GADY,CACP,GAAEhB,aAAc,IAAGa,KAAM,EADlB,EACqB;AAACC,IAAAA;AAAD,GADrB,EAEZV,IAFY,CAENO,IAAD,IAAUA,IAFH,EAGZH,KAHY,CAGLS,GAAD,IAASA,GAAG,CAACZ,QAHP,CAAf;AAIA,SAAOU,MAAP;AACD,CAPM;AAQP,eAAed,kBAAf","sourcesContent":["import axios from 'axios'\nimport { message } from 'antd'\nimport { DOMAIN, getHeaders } from '../general'\n\nconst BASE_ENDPOINT = `${DOMAIN}/subscribers`;\n\nconst createNewSubscribe = (credentials) => {\n  axios.post(BASE_ENDPOINT, credentials,)\n    .then((response) => {\n      if (response.status === 200) {\n        message.info('You have been subscribed to updates!')\n      }\n    })\n    .catch((error) => {\n      if (error.response) {\n        const requestMessage = error.response.data.message\n        if (requestMessage) {\n          message.error(`Error: ${requestMessage}.`)\n        } else {\n          message.error('Something went wrong, please try again.')\n        }\n      }\n    })\n}\nexport const getSubscriber = (email) => {\n  const headers = getHeaders();\n  const result = axios\n    .get(`${BASE_ENDPOINT}/${email}`, {headers})\n    .then((data) => data)\n    .catch((err) => err.response);\n  return result\n}\nexport default createNewSubscribe"]},"metadata":{},"sourceType":"module"}