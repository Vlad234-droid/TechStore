{"ast":null,"code":"import axios from 'axios';\nimport { createSubscribe, createSubscribeSuccess, createSubscribeError } from './actionCreator';\nimport { DOMAIN, getHeaders } from '../general';\nconst BASE_ENDPOINT = `${DOMAIN}/subscribers`;\n\nconst createNewSubscribe = newSubscriber => async dispatch => {\n  dispatch(createSubscribe());\n  const headers = getHeaders();\n  const result = axios.post(BASE_ENDPOINT, newSubscriber, {\n    headers\n  });\n  dispatch(createSubscribe());\n  axios.post(BASE_ENDPOINT, newSubscriber, {\n    headers\n  }).then(response => {\n    dispatch(createSubscribeSuccess(response.data));\n    return response;\n  }).catch(err => {\n    dispatch(createSubscribeError(err.response));\n    return err.response;\n  });\n  return result;\n};\n\nexport const getSubscriber = email => {\n  const headers = getHeaders();\n  const result = axios.get(`${BASE_ENDPOINT}/${email}`, {\n    headers\n  }).then(data => data).catch(err => err.response);\n  return result;\n};\nexport default createNewSubscribe;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/createSubscribe/middleware.js"],"names":["axios","createSubscribe","createSubscribeSuccess","createSubscribeError","DOMAIN","getHeaders","BASE_ENDPOINT","createNewSubscribe","newSubscriber","dispatch","headers","result","post","then","response","data","catch","err","getSubscriber","email","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,EAA0BC,sBAA1B,EAAkDC,oBAAlD,QAA8E,iBAA9E;AACA,SAASC,MAAT,EAAiBC,UAAjB,QAAmC,YAAnC;AAEA,MAAMC,aAAa,GAAI,GAAEF,MAAO,cAAhC;;AAEA,MAAMG,kBAAkB,GAAIC,aAAD,IAAmB,MAAOC,QAAP,IAAoB;AAChEA,EAAAA,QAAQ,CAACR,eAAe,EAAhB,CAAR;AACA,QAAMS,OAAO,GAAGL,UAAU,EAA1B;AACA,QAAMM,MAAM,GAAGX,KAAK,CAACY,IAAN,CAAWN,aAAX,EAA0BE,aAA1B,EAAyC;AAACE,IAAAA;AAAD,GAAzC,CAAf;AACAD,EAAAA,QAAQ,CAACR,eAAe,EAAhB,CAAR;AAEAD,EAAAA,KAAK,CAACY,IAAN,CAAWN,aAAX,EAA0BE,aAA1B,EAAyC;AAAEE,IAAAA;AAAF,GAAzC,EACGG,IADH,CACSC,QAAD,IAAc;AAClBL,IAAAA,QAAQ,CAACP,sBAAsB,CAACY,QAAQ,CAACC,IAAV,CAAvB,CAAR;AACA,WAAOD,QAAP;AACD,GAJH,EAKGE,KALH,CAKUC,GAAD,IAAS;AACdR,IAAAA,QAAQ,CAACN,oBAAoB,CAACc,GAAG,CAACH,QAAL,CAArB,CAAR;AACA,WAAOG,GAAG,CAACH,QAAX;AACD,GARH;AASA,SAAOH,MAAP;AACD,CAhBD;;AAiBA,OAAO,MAAMO,aAAa,GAAIC,KAAD,IAAW;AACtC,QAAMT,OAAO,GAAGL,UAAU,EAA1B;AACA,QAAMM,MAAM,GAAGX,KAAK,CACjBoB,GADY,CACP,GAAEd,aAAc,IAAGa,KAAM,EADlB,EACqB;AAACT,IAAAA;AAAD,GADrB,EAEZG,IAFY,CAENE,IAAD,IAAUA,IAFH,EAGZC,KAHY,CAGLC,GAAD,IAASA,GAAG,CAACH,QAHP,CAAf;AAIA,SAAOH,MAAP;AACD,CAPM;AAQP,eAAeJ,kBAAf","sourcesContent":["import axios from 'axios'\nimport { createSubscribe, createSubscribeSuccess, createSubscribeError } from './actionCreator'\nimport { DOMAIN, getHeaders } from '../general'\n\nconst BASE_ENDPOINT = `${DOMAIN}/subscribers`;\n\nconst createNewSubscribe = (newSubscriber) => async (dispatch) => {\n  dispatch(createSubscribe());\n  const headers = getHeaders();\n  const result = axios.post(BASE_ENDPOINT, newSubscriber, {headers})\n  dispatch(createSubscribe())\n\n  axios.post(BASE_ENDPOINT, newSubscriber, { headers })\n    .then((response) => {\n      dispatch(createSubscribeSuccess(response.data))\n      return response\n    })\n    .catch((err) => {\n      dispatch(createSubscribeError(err.response))\n      return err.response\n    })\n  return result\n}\nexport const getSubscriber = (email) => {\n  const headers = getHeaders();\n  const result = axios\n    .get(`${BASE_ENDPOINT}/${email}`, {headers})\n    .then((data) => data)\n    .catch((err) => err.response);\n  return result\n}\nexport default createNewSubscribe"]},"metadata":{},"sourceType":"module"}