{"ast":null,"code":"import { ADD_TO_CART, INCREASE_QUANTITY, DECREASE_QUANTITY, REMOVE_FROM_CART, CLEAR_CART, SET_CART, SET_CART_SUMMARY, GET_BRANCHES, GET_SHIPPING_COST, GET_CUSTOMER, GET_ORDER, CLEAR_ORDER } from './actionType';\nexport const MODULE_NAME = 'cart';\nexport const selectProducts = state => state[MODULE_NAME].products;\nexport const selectCartSummary = state => state[MODULE_NAME].summary;\nexport const selectCustomer = state => state[MODULE_NAME].customer;\nexport const selectCities = state => state[MODULE_NAME].cities;\nexport const selectBranches = state => state[MODULE_NAME].branches;\nexport const selectShippingCost = state => state[MODULE_NAME].shippingCost;\nexport const selectOrder = state => state[MODULE_NAME].order;\nconst initialState = {\n  summary: 0,\n  products: [],\n  customer: {},\n  branches: [],\n  shippingCost: 0,\n  order: {},\n  cities: [{\n    CityName: 'Kyiv',\n    Ref: '8d5a980d-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Dnipro',\n    Ref: 'db5c88f0-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Kharkiv',\n    Ref: 'db5c88e0-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Lviv',\n    Ref: 'db5c88f5-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Odessa',\n    Ref: 'db5c88d0-391c-11dd-90d9-001a92567626'\n  }]\n};\nexport const cartReducer = (state = initialState, {\n  type,\n  payload\n}) => {\n  const summaryTotalItems = payload => payload.products.reduce((sum, curr) => sum + curr.cartQuantity * curr.product.currentPrice, 0);\n\n  switch (type) {\n    case ADD_TO_CART:\n    case DECREASE_QUANTITY:\n    case INCREASE_QUANTITY:\n    case REMOVE_FROM_CART:\n      return { ...state,\n        products: payload.products,\n        summary: summaryTotalItems(payload)\n      };\n\n    case CLEAR_CART:\n      return { ...state,\n        products: [],\n        summary: 0,\n        shippingCost: 0\n      };\n\n    case SET_CART:\n      return { ...state,\n        products: payload.products,\n        customer: payload.customerId || {},\n        summary: summaryTotalItems(payload)\n      };\n\n    case SET_CART_SUMMARY:\n      return { ...state,\n        summary: payload\n      };\n\n    case GET_BRANCHES:\n      return { ...state,\n        branches: payload,\n        shippingCost: 0\n      };\n\n    case GET_SHIPPING_COST:\n      return { ...state,\n        shippingCost: payload\n      };\n\n    case GET_CUSTOMER:\n      return { ...state,\n        customer: payload.customerId\n      };\n\n    case GET_ORDER:\n      return { ...state,\n        order: payload\n      };\n\n    case CLEAR_ORDER:\n      return { ...state,\n        order: {}\n      };\n\n    default:\n      return state;\n  }\n};\nexport default cartReducer;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/cart/reducer.js"],"names":["ADD_TO_CART","INCREASE_QUANTITY","DECREASE_QUANTITY","REMOVE_FROM_CART","CLEAR_CART","SET_CART","SET_CART_SUMMARY","GET_BRANCHES","GET_SHIPPING_COST","GET_CUSTOMER","GET_ORDER","CLEAR_ORDER","MODULE_NAME","selectProducts","state","products","selectCartSummary","summary","selectCustomer","customer","selectCities","cities","selectBranches","branches","selectShippingCost","shippingCost","selectOrder","order","initialState","CityName","Ref","cartReducer","type","payload","summaryTotalItems","reduce","sum","curr","cartQuantity","product","currentPrice","customerId"],"mappings":"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","sourcesContent":["import {\n  ADD_TO_CART,\n  INCREASE_QUANTITY,\n  DECREASE_QUANTITY,\n  REMOVE_FROM_CART,\n  CLEAR_CART,\n  SET_CART,\n  SET_CART_SUMMARY,\n  GET_BRANCHES,\n  GET_SHIPPING_COST,\n  GET_CUSTOMER,\n  GET_ORDER,\n  CLEAR_ORDER\n} from './actionType';\n\nexport const MODULE_NAME = 'cart';\nexport const selectProducts = (state) => state[MODULE_NAME].products;\nexport const selectCartSummary = (state) => state[MODULE_NAME].summary;\nexport const selectCustomer = (state) => state[MODULE_NAME].customer;\nexport const selectCities = (state) => state[MODULE_NAME].cities;\nexport const selectBranches = (state) => state[MODULE_NAME].branches;\nexport const selectShippingCost = (state) => state[MODULE_NAME].shippingCost;\nexport const selectOrder = (state) => state[MODULE_NAME].order;\n\nconst initialState = {\n  summary: 0,\n  products: [],\n  customer: {},\n  branches: [],\n  shippingCost: 0,\n  order: {},\n  cities: [\n    {\n      CityName: 'Kyiv',\n      Ref: '8d5a980d-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Dnipro',\n      Ref: 'db5c88f0-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Kharkiv',\n      Ref: 'db5c88e0-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Lviv',\n      Ref: 'db5c88f5-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Odessa',\n      Ref: 'db5c88d0-391c-11dd-90d9-001a92567626'\n    },\n  ],\n}\n\nexport const cartReducer = (state = initialState, {type, payload}) => {\n  const summaryTotalItems = (payload) => payload.products.reduce(\n    (sum, curr) => sum + curr.cartQuantity * curr.product.currentPrice,\n    0\n  )\n\n  switch (type) {\n    case ADD_TO_CART:\n    case DECREASE_QUANTITY:\n    case INCREASE_QUANTITY:\n    case REMOVE_FROM_CART:\n      return {\n        ...state,\n        products: payload.products,\n        summary: summaryTotalItems(payload)\n      }\n    case CLEAR_CART:\n      return {\n        ...state,\n        products: [],\n        summary: 0,\n        shippingCost: 0,\n      }\n    case SET_CART:\n      return {\n        ...state,\n        products: payload.products,\n        customer: payload.customerId || {},\n        summary: summaryTotalItems(payload)\n      }\n    case SET_CART_SUMMARY:\n      return {\n        ...state,\n        summary: payload,\n      }\n    case GET_BRANCHES:\n      return {\n        ...state,\n        branches: payload,\n        shippingCost: 0,\n      }\n    case GET_SHIPPING_COST:\n      return {\n        ...state,\n        shippingCost: payload,\n      }\n    case GET_CUSTOMER:\n      return {\n        ...state,\n        customer: payload.customerId,\n      }\n    case GET_ORDER:\n      return {\n        ...state,\n        order: payload,\n      }\n    case CLEAR_ORDER:\n      return {\n        ...state,\n        order: {},\n      }\n    default:\n      return state\n  }\n}\n\nexport default cartReducer"]},"metadata":{},"sourceType":"module"}