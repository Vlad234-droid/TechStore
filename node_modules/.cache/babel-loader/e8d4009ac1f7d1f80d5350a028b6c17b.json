{"ast":null,"code":"import { ADD_TO_CART, INCREASE_QUANTITY, DECREASE_QUANTITY, REMOVE_FROM_CART, CLEAR_CART, SET_CART, SET_CART_SUMMARY, GET_BRANCHES, GET_SHIPPING_COST, GET_CUSTOMER, GET_ORDER, CLEAR_ORDER, START_LOADING, STOP_LOADING } from './actionType';\nexport const MODULE_NAME = 'cart';\nexport const selectProducts = state => state[MODULE_NAME].products;\nexport const selectProductCartCount = state => state[MODULE_NAME].productCartCount;\nexport const selectCartSummary = state => state[MODULE_NAME].summary;\nexport const selectCustomer = state => state[MODULE_NAME].customer;\nexport const selectCities = state => state[MODULE_NAME].cities;\nexport const selectBranches = state => state[MODULE_NAME].branches;\nexport const selectShippingCost = state => state[MODULE_NAME].shippingCost;\nexport const selectOrder = state => state[MODULE_NAME].order;\nexport const selectIsLoading = state => state[MODULE_NAME].isLoading;\nconst initialState = {\n  summary: 0,\n  products: [],\n  customer: {},\n  branches: [],\n  shippingCost: 0,\n  order: {},\n  productCartCount: 0,\n  isLoading: false,\n  cities: [{\n    CityName: 'Kyiv',\n    Ref: '8d5a980d-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Dnipro',\n    Ref: 'db5c88f0-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Kharkiv',\n    Ref: 'db5c88e0-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Lviv',\n    Ref: 'db5c88f5-391c-11dd-90d9-001a92567626'\n  }, {\n    CityName: 'Odessa',\n    Ref: 'db5c88d0-391c-11dd-90d9-001a92567626'\n  }]\n};\nexport const cartReducer = (state = initialState, {\n  type,\n  payload\n}) => {\n  const summaryTotalItems = payload => payload.products.reduce((sum, curr) => sum + curr.cartQuantity * curr.product.currentPrice, 0);\n\n  const totalCountInCartOneProduct = payload => payload.products.reduce((sum, curr) => sum + curr.cartQuantity, 0);\n\n  switch (type) {\n    case DECREASE_QUANTITY:\n    case INCREASE_QUANTITY:\n    case REMOVE_FROM_CART:\n      return { ...state,\n        products: payload.products,\n        summary: summaryTotalItems(payload),\n        productCartCount: totalCountInCartOneProduct(payload)\n      };\n\n    case ADD_TO_CART:\n    case SET_CART:\n      return { ...state,\n        products: payload.products,\n        customer: payload.customerId || {},\n        productCartCount: totalCountInCartOneProduct(payload),\n        summary: summaryTotalItems(payload)\n      };\n\n    case SET_CART_SUMMARY:\n      return { ...state,\n        summary: payload\n      };\n\n    case GET_BRANCHES:\n      return { ...state,\n        branches: payload,\n        shippingCost: 0\n      };\n\n    case GET_SHIPPING_COST:\n      return { ...state,\n        shippingCost: payload\n      };\n\n    case GET_CUSTOMER:\n      return { ...state,\n        customer: payload.customerId\n      };\n\n    case GET_ORDER:\n      return { ...state,\n        order: payload\n      };\n\n    case CLEAR_CART:\n      return { ...state,\n        products: [],\n        summary: 0,\n        shippingCost: 0,\n        productCartCount: 0\n      };\n\n    case CLEAR_ORDER:\n      return { ...state,\n        order: {}\n      };\n\n    case START_LOADING:\n      return { ...state,\n        isLoading: true\n      };\n\n    case STOP_LOADING:\n      return { ...state,\n        isLoading: false\n      };\n\n    default:\n      return state;\n  }\n};\nexport default cartReducer;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/cart/reducer.js"],"names":["ADD_TO_CART","INCREASE_QUANTITY","DECREASE_QUANTITY","REMOVE_FROM_CART","CLEAR_CART","SET_CART","SET_CART_SUMMARY","GET_BRANCHES","GET_SHIPPING_COST","GET_CUSTOMER","GET_ORDER","CLEAR_ORDER","START_LOADING","STOP_LOADING","MODULE_NAME","selectProducts","state","products","selectProductCartCount","productCartCount","selectCartSummary","summary","selectCustomer","customer","selectCities","cities","selectBranches","branches","selectShippingCost","shippingCost","selectOrder","order","selectIsLoading","isLoading","initialState","CityName","Ref","cartReducer","type","payload","summaryTotalItems","reduce","sum","curr","cartQuantity","product","currentPrice","totalCountInCartOneProduct","customerId"],"mappings":"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","sourcesContent":["import {\n  ADD_TO_CART,\n  INCREASE_QUANTITY,\n  DECREASE_QUANTITY,\n  REMOVE_FROM_CART,\n  CLEAR_CART,\n  SET_CART,\n  SET_CART_SUMMARY,\n  GET_BRANCHES,\n  GET_SHIPPING_COST,\n  GET_CUSTOMER,\n  GET_ORDER,\n  CLEAR_ORDER,\n  START_LOADING,\n  STOP_LOADING\n} from './actionType';\n\nexport const MODULE_NAME = 'cart';\nexport const selectProducts = (state) => state[MODULE_NAME].products;\nexport const selectProductCartCount = (state) => state[MODULE_NAME].productCartCount;\nexport const selectCartSummary = (state) => state[MODULE_NAME].summary;\nexport const selectCustomer = (state) => state[MODULE_NAME].customer;\nexport const selectCities = (state) => state[MODULE_NAME].cities;\nexport const selectBranches = (state) => state[MODULE_NAME].branches;\nexport const selectShippingCost = (state) => state[MODULE_NAME].shippingCost;\nexport const selectOrder = (state) => state[MODULE_NAME].order;\nexport const selectIsLoading = (state) => state[MODULE_NAME].isLoading;\n\nconst initialState = {\n  summary: 0,\n  products: [],\n  customer: {},\n  branches: [],\n  shippingCost: 0,\n  order: {},\n  productCartCount: 0,\n  isLoading: false,\n  cities: [\n    {\n      CityName: 'Kyiv',\n      Ref: '8d5a980d-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Dnipro',\n      Ref: 'db5c88f0-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Kharkiv',\n      Ref: 'db5c88e0-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Lviv',\n      Ref: 'db5c88f5-391c-11dd-90d9-001a92567626'\n    },\n    {\n      CityName: 'Odessa',\n      Ref: 'db5c88d0-391c-11dd-90d9-001a92567626'\n    },\n  ],\n}\n\nexport const cartReducer = (state = initialState, {type, payload}) => {\n  const summaryTotalItems = (payload) => payload.products.reduce(\n    (sum, curr) => sum + curr.cartQuantity * curr.product.currentPrice,\n    0\n  )\n  const totalCountInCartOneProduct = (payload) => payload.products.reduce(\n    (sum, curr) => sum + curr.cartQuantity,\n    0\n  )\n    \n  switch (type) {\n    case DECREASE_QUANTITY:\n    case INCREASE_QUANTITY:\n    case REMOVE_FROM_CART:\n      return {\n        ...state,\n        products: payload.products,\n        summary: summaryTotalItems(payload),\n        productCartCount: totalCountInCartOneProduct(payload),\n      }\n    case ADD_TO_CART:\n    case SET_CART:\n      return {\n        ...state,\n        products: payload.products,\n        customer: payload.customerId || {},\n        productCartCount: totalCountInCartOneProduct(payload),\n        summary: summaryTotalItems(payload)\n      }\n    case SET_CART_SUMMARY:\n      return {\n        ...state,\n        summary: payload,\n      }\n    case GET_BRANCHES:\n      return {\n        ...state,\n        branches: payload,\n        shippingCost: 0,\n      }\n    case GET_SHIPPING_COST:\n      return {\n        ...state,\n        shippingCost: payload,\n      }\n    case GET_CUSTOMER:\n      return {\n        ...state,\n        customer: payload.customerId,\n      }\n    case GET_ORDER:\n      return {\n        ...state,\n        order: payload,\n      }\n    case CLEAR_CART:\n      return {\n        ...state,\n        products: [],\n        summary: 0,\n        shippingCost: 0,\n        productCartCount: 0,\n      }\n    case CLEAR_ORDER:\n      return {\n        ...state,\n        order: {},\n      }\n    case START_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n      }\n    case STOP_LOADING:\n      return {\n        ...state,\n        isLoading: false,\n      }\n    default:\n      return state\n  }\n}\n\nexport default cartReducer"]},"metadata":{},"sourceType":"module"}