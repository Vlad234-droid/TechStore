{"ast":null,"code":"var _jsxFileName = \"/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/components/LogIn/AuthForm/AuthForm.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/jsx-props-no-spreading */\nimport { React, useState } from 'react';\nimport styled from 'styled-components';\nimport { Button, Form, Input, message } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport { connect } from 'react-redux';\nimport { authLogIn } from '../../../store/auth/middleware';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthForm = connect(null, {\n  authLogIn\n})(_s(({\n  authLogIn\n}) => {\n  _s();\n\n  const formLayout = 'vertical';\n  const [error, setError] = useState({});\n  const history = useHistory();\n\n  const onFinish = async values => {\n    const {\n      status,\n      data\n    } = await authLogIn(values);\n\n    if (status === 200) {\n      localStorage.setItem('token', data.token);\n      history.push('/');\n    }\n\n    if (status === 400) {\n      message.error(data.password);\n      setError(data);\n    }\n\n    if (status === 404) {\n      message.error(data.loginOrEmail);\n      setError(data);\n    }\n  };\n\n  const onChange = () => {\n    setError({});\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    name: \"authorization\",\n    layout: formLayout,\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    onChange: onChange,\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Login or Email\",\n      name: \"loginOrEmail\",\n      ...(error.loginOrEmail && {\n        help: error.loginOrEmail,\n        validateStatus: 'error'\n      }),\n      rules: [{\n        required: true,\n        message: 'Please input your login or email!'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Your Login or Email\",\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Password\",\n      name: \"password\",\n      ...(error.password && {\n        help: error.password,\n        validateStatus: 'error'\n      }),\n      rules: [{\n        required: true,\n        message: 'Please input your password!'\n      }, {\n        min: 8,\n        message: 'Password length must be at least 8 symbols.'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input.Password, {\n        placeholder: \"Your password\",\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: /*#__PURE__*/_jsxDEV(ButtonStyled, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        shape: \"round\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}, \"v/h+eR03/SdMKkCzNY2OpbNdKCQ=\", false, function () {\n  return [useHistory];\n}));\nconst ButtonStyled = styled(Button)`\n  width: 151px;\n  height: 50px;\n  background-color: rgba(1,86,255,1);\n`;\n_c = ButtonStyled;\nexport default AuthForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ButtonStyled\");","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/components/LogIn/AuthForm/AuthForm.jsx"],"names":["React","useState","styled","Button","Form","Input","message","useHistory","connect","authLogIn","AuthForm","formLayout","error","setError","history","onFinish","values","status","data","localStorage","setItem","token","push","password","loginOrEmail","onChange","remember","help","validateStatus","required","min","ButtonStyled"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\nimport { React, useState} from 'react';\nimport styled from 'styled-components'\nimport {\n  Button,\n  Form, Input, message\n} from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport { connect } from 'react-redux';\nimport {authLogIn} from '../../../store/auth/middleware';\n\nconst AuthForm = connect(null, {authLogIn})(({authLogIn}) => {\n  const formLayout = 'vertical'\n\n  const [error, setError] = useState({})\n  const history = useHistory()\n\n  const onFinish = async (values) => {\n    const {status, data} = await authLogIn(values)\n\n    if (status === 200) {\n      localStorage.setItem('token', data.token)\n      history.push('/')\n    }\n\n    if (status === 400) {\n      message.error(data.password)\n      setError(data)\n    }\n\n    if (status === 404) {\n      message.error(data.loginOrEmail)\n      setError(data)\n    }\n  };\n\n  const onChange = () => {\n    setError({})\n  }\n  \n  return (\n    <Form\n      name=\"authorization\"\n      layout={formLayout}\n      initialValues={{\n        remember: true,\n      }}\n      onFinish={onFinish}\n      onChange={onChange}\n    >\n      <Form.Item\n        label=\"Login or Email\"\n        name=\"loginOrEmail\"\n        {...error.loginOrEmail && {\n          help: error.loginOrEmail,\n          validateStatus: 'error',\n        }}\n        rules={[\n          {\n            required: true,\n            message: 'Please input your login or email!',\n          },\n        ]}\n      >\n        <Input placeholder=\"Your Login or Email\" size=\"large\" />\n      </Form.Item>\n  \n      <Form.Item\n        label=\"Password\"\n        name=\"password\"\n        {...error.password && {\n          help: error.password,\n          validateStatus: 'error',\n        }}\n        rules={[\n          {\n            required: true,\n            message: 'Please input your password!',\n          },\n          {\n            min: 8,\n            message: 'Password length must be at least 8 symbols.',\n          },\n        ]}\n      >\n        <Input.Password placeholder=\"Your password\" size=\"large\" />\n      </Form.Item>\n        \n      <Form.Item>\n        <ButtonStyled type=\"primary\" htmlType=\"submit\" shape=\"round\">\n          Sign In\n        </ButtonStyled>\n      </Form.Item>\n    </Form>\n  );\n});\n\nconst ButtonStyled = styled(Button)`\n  width: 151px;\n  height: 50px;\n  background-color: rgba(1,86,255,1);\n`\n\nexport default AuthForm"]},"metadata":{},"sourceType":"module"}