{"ast":null,"code":"import axios from 'axios';\nimport { DOMAIN } from '../../utils/constants';\nimport { getMainCatalogCreater, startLoading, stopLoading } from './actionCreator';\nexport const getMainCatalogProducts = () => dispatch => {\n  dispatch(startLoading());\n  axios.get(`${DOMAIN}/products`).then(data => {\n    const gamingMonitorList = [];\n    const desctopsList = [];\n    const laptopList = [];\n    const tabletList = [];\n    data.data.forEach(product => {\n      switch (product.categories) {\n        case 'gamingMonitors':\n          if (gamingMonitorList.length < 4 && product.quantity > 0 && product.newProduct === 'no') gamingMonitorList.push(product);\n          break;\n\n        case 'desctops':\n          if (desctopsList.length < 4 && product.quantity > 0 && product.newProduct === 'no') desctopsList.push(product);\n          break;\n\n        case 'laptops':\n          if (laptopList.length < 4 && product.quantity > 0 && product.newProduct === 'no') laptopList.push(product);\n          break;\n\n        case 'tablets':\n          if (tabletList.length < 4 && product.quantity > 0 && product.newProduct === 'no') tabletList.push(product);\n          break;\n\n        default:\n          return null;\n      }\n\n      return null;\n    });\n    const combinePayload = {\n      gamingMonitorList,\n      desctopsList,\n      laptopList,\n      tabletList\n    };\n    dispatch(getMainCatalogCreater(combinePayload));\n  }).catch(error => error.response).finally(() => {\n    dispatch(stopLoading());\n  });\n};\nexport default getMainCatalogProducts;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/productsPreview/middleware.js"],"names":["axios","DOMAIN","getMainCatalogCreater","startLoading","stopLoading","getMainCatalogProducts","dispatch","get","then","data","gamingMonitorList","desctopsList","laptopList","tabletList","forEach","product","categories","length","quantity","newProduct","push","combinePayload","catch","error","response","finally"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,SAASC,qBAAT,EAAgCC,YAAhC,EAA8CC,WAA9C,QAAiE,iBAAjE;AAEA,OAAO,MAAMC,sBAAsB,GAAG,MAAOC,QAAD,IAAc;AACxDA,EAAAA,QAAQ,CAACH,YAAY,EAAb,CAAR;AACAH,EAAAA,KAAK,CAACO,GAAN,CAAW,GAAEN,MAAO,WAApB,EACGO,IADH,CACSC,IAAD,IAAU;AACd,UAAMC,iBAAiB,GAAG,EAA1B;AACA,UAAMC,YAAY,GAAG,EAArB;AACA,UAAMC,UAAU,GAAG,EAAnB;AACA,UAAMC,UAAU,GAAG,EAAnB;AAEAJ,IAAAA,IAAI,CAACA,IAAL,CAAUK,OAAV,CAAmBC,OAAD,IAAa;AAC7B,cAAQA,OAAO,CAACC,UAAhB;AACE,aAAK,gBAAL;AACE,cACEN,iBAAiB,CAACO,MAAlB,GAA2B,CAA3B,IACGF,OAAO,CAACG,QAAR,GAAmB,CADtB,IAEGH,OAAO,CAACI,UAAR,KAAuB,IAH5B,EAIET,iBAAiB,CAACU,IAAlB,CAAuBL,OAAvB;AACF;;AAEF,aAAK,UAAL;AACE,cACEJ,YAAY,CAACM,MAAb,GAAsB,CAAtB,IACGF,OAAO,CAACG,QAAR,GAAmB,CADtB,IAEGH,OAAO,CAACI,UAAR,KAAuB,IAH5B,EAIER,YAAY,CAACS,IAAb,CAAkBL,OAAlB;AACF;;AAEF,aAAK,SAAL;AACE,cACEH,UAAU,CAACK,MAAX,GAAoB,CAApB,IACGF,OAAO,CAACG,QAAR,GAAmB,CADtB,IAEGH,OAAO,CAACI,UAAR,KAAuB,IAH5B,EAIEP,UAAU,CAACQ,IAAX,CAAgBL,OAAhB;AACF;;AAEF,aAAK,SAAL;AACE,cACEF,UAAU,CAACI,MAAX,GAAoB,CAApB,IACGF,OAAO,CAACG,QAAR,GAAmB,CADtB,IAEGH,OAAO,CAACI,UAAR,KAAuB,IAH5B,EAIEN,UAAU,CAACO,IAAX,CAAgBL,OAAhB;AACF;;AAEF;AACE,iBAAO,IAAP;AAlCJ;;AAqCA,aAAO,IAAP;AACD,KAvCD;AAyCA,UAAMM,cAAc,GAAG;AACrBX,MAAAA,iBADqB;AAErBC,MAAAA,YAFqB;AAGrBC,MAAAA,UAHqB;AAIrBC,MAAAA;AAJqB,KAAvB;AAOAP,IAAAA,QAAQ,CAACJ,qBAAqB,CAACmB,cAAD,CAAtB,CAAR;AACD,GAxDH,EAyDGC,KAzDH,CAyDUC,KAAD,IAAWA,KAAK,CAACC,QAzD1B,EA0DGC,OA1DH,CA0DW,MAAM;AACbnB,IAAAA,QAAQ,CAACF,WAAW,EAAZ,CAAR;AACD,GA5DH;AA6DD,CA/DM;AAiEP,eAAeC,sBAAf","sourcesContent":["import axios from 'axios';\nimport { DOMAIN } from '../../utils/constants';\nimport { getMainCatalogCreater, startLoading, stopLoading } from './actionCreator';\n\nexport const getMainCatalogProducts = () => (dispatch) => {\n  dispatch(startLoading())\n  axios.get(`${DOMAIN}/products`)\n    .then((data) => {\n      const gamingMonitorList = []\n      const desctopsList = []\n      const laptopList = []\n      const tabletList = []\n\n      data.data.forEach((product) => {\n        switch (product.categories) {\n          case 'gamingMonitors':\n            if (\n              gamingMonitorList.length < 4\n              && product.quantity > 0\n              && product.newProduct === 'no'\n            ) gamingMonitorList.push(product)\n            break\n\n          case 'desctops':\n            if (\n              desctopsList.length < 4\n              && product.quantity > 0\n              && product.newProduct === 'no'\n            ) desctopsList.push(product)\n            break\n\n          case 'laptops':\n            if (\n              laptopList.length < 4\n              && product.quantity > 0\n              && product.newProduct === 'no'\n            ) laptopList.push(product)\n            break\n\n          case 'tablets':\n            if (\n              tabletList.length < 4\n              && product.quantity > 0\n              && product.newProduct === 'no'\n            ) tabletList.push(product)\n            break\n\n          default:\n            return null\n        }\n\n        return null\n      })\n\n      const combinePayload = {\n        gamingMonitorList,\n        desctopsList,\n        laptopList,\n        tabletList\n      }\n\n      dispatch(getMainCatalogCreater(combinePayload))\n    })\n    .catch((error) => error.response)\n    .finally(() => {\n      dispatch(stopLoading())\n    })\n}\n\nexport default getMainCatalogProducts"]},"metadata":{},"sourceType":"module"}