{"ast":null,"code":"var _jsxFileName = \"/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/components/Header/SearchProducts/SearchProducts.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Input, SearchInputBlock, SearchOutlinedStyled, FormContainer } from '../HeaderStyled';\nimport { getSearchProducts } from '../../../store/products/middleware';\nimport { CloseList, SearchList } from './StyledSearchProducts';\nimport { Product } from './Product/Product';\nimport { clearSearchProducts } from '../../../store/products/actionCreator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => ({\n  searchProducts: state.products.searchProducts\n});\n\nconst SearchProducts = connect(mapStateToProps, {\n  clearSearchProducts,\n  getSearchProducts\n})(_s(({\n  searchProducts,\n  hideInput,\n  getSearchProducts,\n  clearSearchProducts\n}) => {\n  _s();\n\n  const [search, setSearch] = useState('');\n\n  const onChange = e => {\n    const {\n      value\n    } = e.target;\n    setSearch(value);\n\n    if (value.length > 2) {\n      getSearchProducts({\n        query: value\n      });\n    } else clearSearchProducts();\n  };\n\n  const reset = useCallback(() => {\n    clearSearchProducts();\n    setSearch('');\n  }, [clearSearchProducts]);\n  const checkProductsLength = Boolean(searchProducts.length);\n  useEffect(() => {\n    window.addEventListener('click', e => {\n      if (!e.target.closest('#search-form')) {\n        reset();\n      }\n    });\n  }, [hideInput, reset]);\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    id: \"search-form\",\n    onKeyUp: e => e.code === 'Escape' && reset(),\n    hideInput: hideInput,\n    onSubmit: e => e.preventDefault(),\n    children: [/*#__PURE__*/_jsxDEV(SearchInputBlock, {\n      children: [/*#__PURE__*/_jsxDEV(SearchOutlinedStyled, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        value: search,\n        onChange: onChange,\n        name: \"search\",\n        type: \"text\",\n        placeholder: \"Search for goods\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), checkProductsLength && /*#__PURE__*/_jsxDEV(CloseList, {\n        onClick: reset,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          \"aria-hidden\": \"true\",\n          focusable: \"false\",\n          \"data-prefix\": \"far\",\n          \"data-icon\": \"times-circle\",\n          className: \"svg-inline--fa fa-times-circle fa-w-16\",\n          role: \"img\",\n          viewBox: \"0 0 512 512\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fill: \"gray\",\n            d: \"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 215\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchList, {\n      children: [searchProducts.map((product, index) => index < 5 && /*#__PURE__*/_jsxDEV(Product, {\n        reset: reset,\n        product: product\n      }, product.itemNo, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)), checkProductsLength && /*#__PURE__*/_jsxDEV(Link, {\n        style: {\n          display: 'inline-block',\n          padding: '10px 0',\n          width: '100%'\n        },\n        onClick: reset,\n        to: \"/catalog\",\n        children: \"All Products...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}, \"48w3C/whrTtlBLcJE4JoA7GHW8A=\"));\nSearchProducts.propTypes = {\n  hideInput: PropTypes.bool.isRequired\n};\nexport default SearchProducts;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/components/Header/SearchProducts/SearchProducts.jsx"],"names":["React","useCallback","useEffect","useState","PropTypes","connect","Link","Input","SearchInputBlock","SearchOutlinedStyled","FormContainer","getSearchProducts","CloseList","SearchList","Product","clearSearchProducts","mapStateToProps","state","searchProducts","products","SearchProducts","hideInput","search","setSearch","onChange","e","value","target","length","query","reset","checkProductsLength","Boolean","window","addEventListener","closest","code","preventDefault","map","product","index","itemNo","display","padding","width","propTypes","bool","isRequired"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect, useState} from 'react'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {\n  Input, SearchInputBlock, SearchOutlinedStyled, FormContainer\n} from '../HeaderStyled'\nimport { getSearchProducts } from '../../../store/products/middleware';\nimport { CloseList, SearchList } from './StyledSearchProducts';\nimport { Product} from './Product/Product';\nimport { clearSearchProducts} from '../../../store/products/actionCreator';\n\nconst mapStateToProps = (state) => ({\n  searchProducts: state.products.searchProducts\n})\n\nconst SearchProducts = connect(mapStateToProps, {clearSearchProducts, getSearchProducts})(({\n  searchProducts,\n  hideInput,\n  getSearchProducts,\n  clearSearchProducts\n}) => {\n  const [search, setSearch] = useState('')\n\n  const onChange = (e) => {\n    const {value} = e.target\n    setSearch(value)\n    if (value.length > 2) {\n      getSearchProducts({query: value})\n    } else clearSearchProducts()\n  }\n\n  const reset = useCallback(() => {\n    clearSearchProducts()\n    setSearch('')\n  }, [clearSearchProducts])\n\n  const checkProductsLength = Boolean(searchProducts.length)\n\n  useEffect(() => {\n    window.addEventListener('click', (e) => {\n      if (!e.target.closest('#search-form')) {\n        reset()\n      }\n    })\n  }, [hideInput, reset])\n\n  return (\n    <FormContainer\n      id=\"search-form\"\n      onKeyUp={(e) => ((e.code === 'Escape') && reset())}\n      hideInput={hideInput}\n      onSubmit={(e) => e.preventDefault()}\n    >\n      <SearchInputBlock>\n        <SearchOutlinedStyled />\n        <Input value={search} onChange={onChange} name=\"search\" type=\"text\" placeholder=\"Search for goods\" />\n        {checkProductsLength && (\n        <CloseList onClick={reset}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"times-circle\" className=\"svg-inline--fa fa-times-circle fa-w-16\" role=\"img\" viewBox=\"0 0 512 512\"><path fill=\"gray\" d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z\" /></svg>\n        </CloseList>\n        )}\n      </SearchInputBlock>\n      <SearchList>\n        {searchProducts.map((product, index) => (\n          index < 5 && (\n          <Product\n            reset={reset}\n            key={product.itemNo}\n            product={product}\n          />\n          )\n        ))}\n\n        {checkProductsLength\n        && (\n        <Link\n          style={{display: 'inline-block', padding: '10px 0', width: '100%'}}\n          onClick={reset}\n          to=\"/catalog\"\n        >\n          All Products...\n        </Link>\n        )}\n      </SearchList>\n    </FormContainer>\n  )\n})\n\nSearchProducts.propTypes = {\n  hideInput: PropTypes.bool.isRequired,\n}\n\nexport default SearchProducts"]},"metadata":{},"sourceType":"module"}