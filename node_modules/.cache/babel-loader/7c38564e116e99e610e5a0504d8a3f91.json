{"ast":null,"code":"import axios from 'axios';\nimport { DOMAIN } from '../../utils/constants';\n\nfunction SortArr(arr) {\n  return arr.sort((a, b) => {\n    if (a.title.toLowerCase() > b.title.toLowerCase()) {\n      return 1;\n    }\n\n    if (a.title.toLowerCase() < b.title.toLowerCase()) {\n      return -1;\n    }\n\n    return 0;\n  });\n}\n\n_c = SortArr;\nexport const categories = SortArr([{\n  value: 'gamingMonitors',\n  title: 'Gaming Monitors'\n}, {\n  value: 'tablets',\n  title: 'Tablets'\n}, {\n  value: 'laptops',\n  title: 'Laptops'\n}, {\n  value: 'desctops',\n  title: 'Desktops'\n}]);\nexport const brands = SortArr([{\n  value: 'AOC',\n  title: 'AOC'\n}, {\n  value: 'MSI',\n  title: 'MSI'\n}, {\n  value: 'LG',\n  title: 'LG'\n}, {\n  value: 'Samsung',\n  title: 'Samsung'\n}, {\n  value: 'Philips',\n  title: 'Philips'\n}, {\n  value: 'Apple',\n  title: 'Apple'\n}, {\n  value: 'Lenovo',\n  title: 'Lenovo'\n}, {\n  value: 'Huawei',\n  title: 'Huawei'\n}, {\n  value: 'Asus',\n  title: 'Asus'\n}, {\n  value: 'HP',\n  title: 'HP'\n}, {\n  value: 'Dell',\n  title: 'Dell'\n}, {\n  value: 'Artline',\n  title: 'Artline'\n}, {\n  value: 'Everest',\n  title: 'Everest'\n}]);\nexport const checkFilterConfig = async param => {\n  let paramStr = '';\n  const {\n    perPage,\n    sort,\n    startPage,\n    ...refParam\n  } = param;\n  const menuConfig = {\n    brand: []\n  };\n  Object.keys(refParam).forEach((key, index) => {\n    if (index === 0) {\n      return paramStr += `${key}=${refParam[key].toString()}`;\n    }\n\n    return paramStr += `&${key}=${refParam[key].toString()}`;\n  });\n  await axios.get(`${DOMAIN}/products/filter?${paramStr}`).then(({\n    data: {\n      products\n    }\n  }) => {\n    const refBrand = new Set();\n    products.forEach(product => {\n      if (product.brand) refBrand.add(product.brand);\n    });\n\n    if (param.categories.length) {\n      brands.forEach(brand => {\n        var _param$brand;\n\n        if (refBrand.has(brand.value) || (param === null || param === void 0 ? void 0 : (_param$brand = param.brand) === null || _param$brand === void 0 ? void 0 : _param$brand.includes(brand.value))) {\n          menuConfig.brand.push(brand);\n        }\n      });\n    } else delete menuConfig.brand;\n\n    return products;\n  }).catch(error => error);\n  return { ...menuConfig\n  };\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"SortArr\");","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/TechStore/src/components/CatalogPage/filterConfig.js"],"names":["axios","DOMAIN","SortArr","arr","sort","a","b","title","toLowerCase","categories","value","brands","checkFilterConfig","param","paramStr","perPage","startPage","refParam","menuConfig","brand","Object","keys","forEach","key","index","toString","get","then","data","products","refBrand","Set","product","add","length","has","includes","push","catch","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,uBAAvB;;AAEA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACpB,SAAOA,GAAG,CAACC,IAAJ,CAAS,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACxB,QAAID,CAAC,CAACE,KAAF,CAAQC,WAAR,KAAwBF,CAAC,CAACC,KAAF,CAAQC,WAAR,EAA5B,EAAmD;AACjD,aAAO,CAAP;AACD;;AACD,QAAIH,CAAC,CAACE,KAAF,CAAQC,WAAR,KAAwBF,CAAC,CAACC,KAAF,CAAQC,WAAR,EAA5B,EAAmD;AACjD,aAAO,CAAC,CAAR;AACD;;AAED,WAAO,CAAP;AACD,GATM,CAAP;AAUD;;KAXQN,O;AAaT,OAAO,MAAMO,UAAU,GAAGP,OAAO,CAAC,CAChC;AACEQ,EAAAA,KAAK,EAAE,gBADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CADgC,EAKhC;AACEG,EAAAA,KAAK,EAAE,SADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CALgC,EAShC;AACEG,EAAAA,KAAK,EAAE,SADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CATgC,EAahC;AACEG,EAAAA,KAAK,EAAE,UADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CAbgC,CAAD,CAA1B;AAmBP,OAAO,MAAMI,MAAM,GAAGT,OAAO,CAAC,CAC5B;AACEQ,EAAAA,KAAK,EAAE,KADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CAD4B,EAK5B;AACEG,EAAAA,KAAK,EAAE,KADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CAL4B,EAS5B;AACEG,EAAAA,KAAK,EAAE,IADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CAT4B,EAa5B;AACEG,EAAAA,KAAK,EAAE,SADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CAb4B,EAiB5B;AACEG,EAAAA,KAAK,EAAE,SADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CAjB4B,EAqB5B;AACEG,EAAAA,KAAK,EAAE,OADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CArB4B,EAyB5B;AACEG,EAAAA,KAAK,EAAE,QADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CAzB4B,EA6B5B;AACEG,EAAAA,KAAK,EAAE,QADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CA7B4B,EAiC5B;AACEG,EAAAA,KAAK,EAAE,MADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CAjC4B,EAqC5B;AACEG,EAAAA,KAAK,EAAE,IADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CArC4B,EAyC5B;AACEG,EAAAA,KAAK,EAAE,MADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CAzC4B,EA6C5B;AACEG,EAAAA,KAAK,EAAE,SADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CA7C4B,EAiD5B;AACEG,EAAAA,KAAK,EAAE,SADT;AAEEH,EAAAA,KAAK,EAAE;AAFT,CAjD4B,CAAD,CAAtB;AAuDP,OAAO,MAAMK,iBAAiB,GAAG,MAAOC,KAAP,IAAiB;AAChD,MAAIC,QAAQ,GAAG,EAAf;AACA,QAAM;AACJC,IAAAA,OADI;AACKX,IAAAA,IADL;AACWY,IAAAA,SADX;AACsB,OAAGC;AADzB,MAEFJ,KAFJ;AAGA,QAAMK,UAAU,GAAG;AACjBC,IAAAA,KAAK,EAAE;AADU,GAAnB;AAGAC,EAAAA,MAAM,CAACC,IAAP,CAAYJ,QAAZ,EAAsBK,OAAtB,CAA8B,CAACC,GAAD,EAAMC,KAAN,KAAgB;AAC5C,QAAIA,KAAK,KAAK,CAAd,EAAiB;AACf,aAAOV,QAAQ,IAAK,GAAES,GAAI,IAAGN,QAAQ,CAACM,GAAD,CAAR,CAAcE,QAAd,EAAyB,EAAtD;AACD;;AACD,WAAOX,QAAQ,IAAK,IAAGS,GAAI,IAAGN,QAAQ,CAACM,GAAD,CAAR,CAAcE,QAAd,EAAyB,EAAvD;AACD,GALD;AAOA,QAAMzB,KAAK,CAAC0B,GAAN,CAAW,GAAEzB,MAAO,oBAAmBa,QAAS,EAAhD,EACHa,IADG,CACE,CAAC;AAACC,IAAAA,IAAI,EAAE;AAACC,MAAAA;AAAD;AAAP,GAAD,KAAwB;AAC5B,UAAMC,QAAQ,GAAG,IAAIC,GAAJ,EAAjB;AAEAF,IAAAA,QAAQ,CAACP,OAAT,CAAkBU,OAAD,IAAa;AAC5B,UAAIA,OAAO,CAACb,KAAZ,EAAmBW,QAAQ,CAACG,GAAT,CAAaD,OAAO,CAACb,KAArB;AACpB,KAFD;;AAIA,QAAIN,KAAK,CAACJ,UAAN,CAAiByB,MAArB,EAA6B;AAC3BvB,MAAAA,MAAM,CAACW,OAAP,CAAiBH,KAAD,IAAW;AAAA;;AACzB,YAAIW,QAAQ,CAACK,GAAT,CAAahB,KAAK,CAACT,KAAnB,MAA6BG,KAA7B,aAA6BA,KAA7B,uCAA6BA,KAAK,CAAEM,KAApC,iDAA6B,aAAciB,QAAd,CAAuBjB,KAAK,CAACT,KAA7B,CAA7B,CAAJ,EAAsE;AACpEQ,UAAAA,UAAU,CAACC,KAAX,CAAiBkB,IAAjB,CAAsBlB,KAAtB;AACD;AACF,OAJD;AAKD,KAND,MAMO,OAAOD,UAAU,CAACC,KAAlB;;AACP,WAAOU,QAAP;AACD,GAhBG,EAiBHS,KAjBG,CAiBIC,KAAD,IAAWA,KAjBd,CAAN;AAkBA,SAAO,EAAC,GAAGrB;AAAJ,GAAP;AACD,CAlCM","sourcesContent":["import axios from 'axios';\nimport { DOMAIN } from '../../utils/constants';\n\nfunction SortArr(arr) {\n  return arr.sort((a, b) => {\n    if (a.title.toLowerCase() > b.title.toLowerCase()) {\n      return 1;\n    }\n    if (a.title.toLowerCase() < b.title.toLowerCase()) {\n      return -1;\n    }\n        \n    return 0;\n  })\n}\n\nexport const categories = SortArr([\n  {\n    value: 'gamingMonitors',\n    title: 'Gaming Monitors'\n  },\n  {\n    value: 'tablets',\n    title: 'Tablets'\n  },\n  {\n    value: 'laptops',\n    title: 'Laptops'\n  },\n  {\n    value: 'desctops',\n    title: 'Desktops'\n  }\n])\n\nexport const brands = SortArr([\n  {\n    value: 'AOC',\n    title: 'AOC'\n  },\n  {\n    value: 'MSI',\n    title: 'MSI'\n  },\n  {\n    value: 'LG',\n    title: 'LG'\n  },\n  {\n    value: 'Samsung',\n    title: 'Samsung'\n  },\n  {\n    value: 'Philips',\n    title: 'Philips'\n  },\n  {\n    value: 'Apple',\n    title: 'Apple'\n  },\n  {\n    value: 'Lenovo',\n    title: 'Lenovo'\n  },\n  {\n    value: 'Huawei',\n    title: 'Huawei'\n  },\n  {\n    value: 'Asus',\n    title: 'Asus'\n  },\n  {\n    value: 'HP',\n    title: 'HP'\n  },\n  {\n    value: 'Dell',\n    title: 'Dell'\n  },\n  {\n    value: 'Artline',\n    title: 'Artline'\n  },\n  {\n    value: 'Everest',\n    title: 'Everest'\n  },\n])\n\nexport const checkFilterConfig = async (param) => {\n  let paramStr = ''\n  const {\n    perPage, sort, startPage, ...refParam\n  } = param\n  const menuConfig = {\n    brand: [],\n  }\n  Object.keys(refParam).forEach((key, index) => {\n    if (index === 0) {\n      return paramStr += `${key}=${refParam[key].toString()}`\n    }\n    return paramStr += `&${key}=${refParam[key].toString()}`\n  })\n\n  await axios.get(`${DOMAIN}/products/filter?${paramStr}`)\n    .then(({data: {products}}) => {\n      const refBrand = new Set()\n\n      products.forEach((product) => {\n        if (product.brand) refBrand.add(product.brand)\n      })\n\n      if (param.categories.length) {\n        brands.forEach(((brand) => {\n          if (refBrand.has(brand.value) || param?.brand?.includes(brand.value)) {\n            menuConfig.brand.push(brand)\n          }\n        }))\n      } else delete menuConfig.brand\n      return products\n    })\n    .catch((error) => error)\n  return {...menuConfig}\n}\n"]},"metadata":{},"sourceType":"module"}