{"ast":null,"code":"import axios from 'axios';\nimport { logIn, logOut } from './actionCreator';\nimport { DOMAIN } from '../general';\nexport const authLogIn = credentials => dispatch => {\n  const res = axios.post(`${DOMAIN}/customers/login`, credentials).then(data => {\n    if (data.status === 200) {\n      dispatch(logIn());\n    }\n\n    return data;\n  }).catch(error => error.response);\n  return res;\n};\nexport const authLogOut = () => dispatch => {\n  localStorage.removeItem('token');\n  dispatch(logOut());\n};\nexport default authLogIn;","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/Final_project_Online-store/src/store/auth/middleware.js"],"names":["axios","logIn","logOut","DOMAIN","authLogIn","credentials","dispatch","res","post","then","data","status","catch","error","response","authLogOut","localStorage","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,iBAA9B;AACA,SAASC,MAAT,QAAuB,YAAvB;AAEA,OAAO,MAAMC,SAAS,GAAIC,WAAD,IAAkBC,QAAD,IAAc;AACtD,QAAMC,GAAG,GAAGP,KAAK,CAACQ,IAAN,CAAY,GAAEL,MAAO,kBAArB,EAAwCE,WAAxC,EACTI,IADS,CACHC,IAAD,IAAU;AACd,QAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACvBL,MAAAA,QAAQ,CAACL,KAAK,EAAN,CAAR;AACD;;AACD,WAAOS,IAAP;AACD,GANS,EAOTE,KAPS,CAOFC,KAAD,IAAWA,KAAK,CAACC,QAPd,CAAZ;AAQA,SAAOP,GAAP;AACD,CAVM;AAYP,OAAO,MAAMQ,UAAU,GAAG,MAAOT,QAAD,IAAc;AAC5CU,EAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAX,EAAAA,QAAQ,CAACJ,MAAM,EAAP,CAAR;AACD,CAHM;AAKP,eAAeE,SAAf","sourcesContent":["import axios from 'axios'\nimport { logIn, logOut } from './actionCreator'\nimport { DOMAIN } from '../general'\n\nexport const authLogIn = (credentials) => (dispatch) => {\n  const res = axios.post(`${DOMAIN}/customers/login`, credentials)\n    .then((data) => {\n      if (data.status === 200) {\n        dispatch(logIn())\n      }\n      return data\n    })\n    .catch((error) => error.response)\n  return res\n}\n\nexport const authLogOut = () => (dispatch) => {\n  localStorage.removeItem('token')\n  dispatch(logOut())\n}\n\nexport default authLogIn\n"]},"metadata":{},"sourceType":"module"}